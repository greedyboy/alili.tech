<!DOCTYPE html>
<html mip="" lang="zh">
<head><link rel="manifest" href="/manifest.json"><link rel="manifest" href="/manifest.json">
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no">
    <meta name="wap-font-scale" content="no">
    <meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34">
    <meta name="sogou_site_verification" content="E8uWFBcf4a">
    <meta name="description" content="&amp;#x5E26;&amp;#x5165;gRPC&amp;#xFF1A;gRPC Client and Server&amp;#x539F;&amp;#x6587;&amp;#x5730;&amp;#x5740;&amp;#xFF1A;&amp;#x5E26;&amp;#x5165;gRPC&amp;#xFF1A;gRPC Client and Server&amp;#x9879;&amp;#x76EE;&amp;#x5730;&amp;#x5740;&amp;#xFF1A;go-grpc-example&amp;#x52">
<meta name="keywords" content="Alili,前端大爆炸,WEB BANG BANG BANG,web前端博客,前端模块化,前端工程,富应用开发,html5上传,前端数据监控,性能优化,网页制作,前端,js,html5,css,踩坑小报告,微前端,树莓派,前端开发,区块链,网络,Mongodb,Vue.js,Angular.js,node.js">
<meta property="og:type" content="article">
<meta property="og:title" content="带入gRPC：gRPC Client and Server">
<meta property="og:url" content="https://alili.tech/archive/f29e3b28/index.html">
<meta property="og:site_name" content="Alili">
<meta property="og:description" content="&amp;#x5E26;&amp;#x5165;gRPC&amp;#xFF1A;gRPC Client and Server&amp;#x539F;&amp;#x6587;&amp;#x5730;&amp;#x5740;&amp;#xFF1A;&amp;#x5E26;&amp;#x5165;gRPC&amp;#xFF1A;gRPC Client and Server&amp;#x9879;&amp;#x76EE;&amp;#x5730;&amp;#x5740;&amp;#xFF1A;go-grpc-example&amp;#x52">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://static.alili.tech/img/remote/1460000016583379?w=505&h=319">
<meta property="og:updated_time" content="2018-11-08T11:12:10.707Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="带入gRPC：gRPC Client and Server">
<meta name="twitter:description" content="&amp;#x5E26;&amp;#x5165;gRPC&amp;#xFF1A;gRPC Client and Server&amp;#x539F;&amp;#x6587;&amp;#x5730;&amp;#x5740;&amp;#xFF1A;&amp;#x5E26;&amp;#x5165;gRPC&amp;#xFF1A;gRPC Client and Server&amp;#x9879;&amp;#x76EE;&amp;#x5730;&amp;#x5740;&amp;#xFF1A;go-grpc-example&amp;#x52">
<meta name="twitter:image" content="https://static.alili.tech/img/remote/1460000016583379?w=505&h=319">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon-192x192.png">
          
        
    
    <!-- title -->
    <title>带入gRPC：gRPC Client and Server | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title>
    <link rel="stylesheet" type="text/css" href="https://c.mipcdn.com/static/v1/mip.css">
    <link rel="manifest" href="/manifest.json">
    <!-- styles -->
    <link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/lib/meslo-LG/styles.css">
    <link rel="stylesheet" href="/lib/justified-gallery/justifiedGallery.min.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="canonical" href="https://alili.tech/archive/f29e3b28/">
    <!-- rss -->
    
    
    <!-- jquery -->
    <script src="/lib/jquery/jquery.min.js"></script>
    <!-- 熊掌号  -->
    <script type="application/ld+json">
  {
      "@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
      "@id": "https://alili.tech/archive/f29e3b28/",
      "appid": "1613049289050283", 
      "title": "带入gRPC：gRPC Client and Server | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
      "images": [],
      "pubDate": "2018-11-08T11:13:05"
  } 
</script>
<script>
  document.addEventListener("error", function (e) {
    var elem = e.target;
    if (elem.tagName.toLowerCase() == 'img') {
      elem.style.display='none'
    }
  }, true);
  </script>

</head>
<body>
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast')" style="display:none"><i class="fa fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/archives/">Archives</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="http://github.com/Fantasy9527" rel="external nofollow noopener noreferrer" target="_blank">Github</a></li>
        
      </ul>
    </span>
    <br>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/archive/5e3e3550/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover="$(&quot;#i-prev&quot;).toggle()" onmouseout="$(&quot;#i-prev&quot;).toggle()"></i></a></li>
        
        
        <li><a class="icon" href="/archive/31451a77/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover="$(&quot;#i-next&quot;).toggle()" onmouseout="$(&quot;#i-next&quot;).toggle()"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast')"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover="$(&quot;#i-top&quot;).toggle()" onmouseout="$(&quot;#i-top&quot;).toggle()"></i></a></li>
        <li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover="$(&quot;#i-share&quot;).toggle()" onmouseout="$(&quot;#i-share&quot;).toggle()" onclick="$(&quot;#share&quot;).toggle();return false"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none">Previous post</span>
      <span id="i-next" class="info" style="display:none">Next post</span>
      <span id="i-top" class="info" style="display:none">Back to top</span>
      <span id="i-share" class="info" style="display:none">Share post</span>
    </span>
    <br>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https://alili.tech/archive/f29e3b28/&text=带入gRPC：gRPC Client and Server" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-weibo" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://alili.tech/archive/f29e3b28/" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-facebook" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://alili.tech/archive/f29e3b28/&text=带入gRPC：gRPC Client and Server" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-twitter" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://alili.tech/archive/f29e3b28/&title=带入gRPC：gRPC Client and Server" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://alili.tech/archive/f29e3b28/&is_video=false&description=带入gRPC：gRPC Client and Server" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=带入gRPC：gRPC Client and Server&body=Check out this article: https://alili.tech/archive/f29e3b28/"><i class="fa fa-envelope" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://alili.tech/archive/f29e3b28/&title=带入gRPC：gRPC Client and Server" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://alili.tech/archive/f29e3b28/&title=带入gRPC：gRPC Client and Server" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-reddit" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://alili.tech/archive/f29e3b28/&title=带入gRPC：gRPC Client and Server" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://alili.tech/archive/f29e3b28/&title=带入gRPC：gRPC Client and Server" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-digg" aria-hidden="true"></i></a></li>
</ul>
    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#articleHeader0"><span class="toc-number">1.</span> <span class="toc-text">带入gRPC：gRPC Client and Server</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#articleHeader1"><span class="toc-number">1.1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#articleHeader2"><span class="toc-number">1.2.</span> <span class="toc-text">安装</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#articleHeader3"><span class="toc-number">1.2.1.</span> <span class="toc-text">gRPC</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#articleHeader4"><span class="toc-number">1.2.2.</span> <span class="toc-text">Protocol Buffers v3</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#articleHeader5"><span class="toc-number">1.2.3.</span> <span class="toc-text">Protoc Plugin</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#articleHeader6"><span class="toc-number">1.3.</span> <span class="toc-text">gRPC</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#articleHeader7"><span class="toc-number">1.3.1.</span> <span class="toc-text">图示</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#articleHeader8"><span class="toc-number">1.3.2.</span> <span class="toc-text">目录结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#articleHeader9"><span class="toc-number">1.3.3.</span> <span class="toc-text">IDL</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#undefined"><span class="toc-number">1.3.3.1.</span> <span class="toc-text">编写</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#undefined"><span class="toc-number">1.3.3.2.</span> <span class="toc-text">生成</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#undefined"><span class="toc-number">1.3.3.3.</span> <span class="toc-text">生成后</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#articleHeader10"><span class="toc-number">1.3.4.</span> <span class="toc-text">Server</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#articleHeader11"><span class="toc-number">1.3.5.</span> <span class="toc-text">Client</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#articleHeader12"><span class="toc-number">1.4.</span> <span class="toc-text">验证</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#articleHeader13"><span class="toc-number">1.4.1.</span> <span class="toc-text">启动 Server</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#articleHeader14"><span class="toc-number">1.4.2.</span> <span class="toc-text">启动 Client</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#articleHeader15"><span class="toc-number">1.5.</span> <span class="toc-text">总结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#articleHeader16"><span class="toc-number">1.6.</span> <span class="toc-text">系列目录</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#版权声明"><span class="toc-number">2.</span> <span class="toc-text">版权声明</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#原文标题"><span class="toc-number">2.1.</span> <span class="toc-text">原文标题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#原文链接"><span class="toc-number">2.2.</span> <span class="toc-text">原文链接</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#undefined"><span class="toc-number">2.3.</span> <span class="toc-text"> 本文链接：</span></a></li></ol></li></ol>
    </div>
  </span>
</div>
    
    <div class="content index width mx-auto px3 my4">
        
        <article class="post" itemscope="" itemtype="http://schema.org/BlogPosting">
  <header>
    <h1 class="posttitle" itemprop="name headline">
        带入gRPC：gRPC Client and Server
    </h1>
    <div class="meta">
      <div class="postdate">
        <time datetime="2018-11-07T02:30:16.000Z" itemprop="datePublished">2018-11-07</time>
    </div>
      <div class="article-tag">
          <i class="fa fa-eye"></i>
          <span id="busuanzi_container_page_pv">
              <span id="busuanzi_value_page_pv">0</span>
            </span>
          
      </div>
      
    </div>
  </header>
  
  <div class="content" itemprop="articleBody">
    <h1 id="articleHeader0">&#x5E26;&#x5165;gRPC&#xFF1A;gRPC Client and Server</h1><p>&#x539F;&#x6587;&#x5730;&#x5740;&#xFF1A;<a href="https://github.com/EDDYCJY/blog/blob/master/golang/gRPC/2018-09-23-%E5%B8%A6%E5%85%A5gRPC%E4%BA%8C-gRPC-Client-and-Server.md" rel="external nofollow noopener noreferrer" target="_blank">&#x5E26;&#x5165;gRPC&#xFF1A;gRPC Client and Server</a></p><p>&#x9879;&#x76EE;&#x5730;&#x5740;&#xFF1A;<a href="https://github.com/EDDYCJY/go-grpc-example" rel="external nofollow noopener noreferrer" target="_blank">go-grpc-example</a></p><h2 id="articleHeader1">&#x524D;&#x8A00;</h2><p>&#x672C;&#x7AE0;&#x8282;&#x5C06;&#x4F7F;&#x7528; Go &#x6765;&#x7F16;&#x5199; gRPC Server &#x548C; Client&#xFF0C;&#x8BA9;&#x5176;&#x4E92;&#x76F8;&#x901A;&#x8BAF;&#x3002;&#x5728;&#x6B64;&#x4E4B;&#x4E0A;&#x4F1A;&#x4F7F;&#x7528;&#x5230;&#x5982;&#x4E0B;&#x5E93;&#xFF1A;</p><ul><li>google.golang.org/grpc</li><li>github.com/golang/protobuf/protoc-gen-go</li></ul><h2 id="articleHeader2">&#x5B89;&#x88C5;</h2><h3 id="articleHeader3">gRPC</h3><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="go get -u google.golang.org/grpc" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="hljs stylus"><code style="word-break:break-word;white-space:initial">go get -u google<span class="hljs-selector-class">.golang</span><span class="hljs-selector-class">.org</span>/grpc</code></pre><h3 id="articleHeader4">Protocol Buffers v3</h3><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="wget https://github.com/google/protobuf/releases/download/v3.5.1/protobuf-all-3.5.1.zip
unzip protobuf-all-3.5.1.zip
cd protobuf-3.5.1/
./configure
make
make install" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="hljs vim"><code>wget http<span class="hljs-variable">s:</span>//github.<span class="hljs-keyword">com</span>/google/protobuf/releases/download/v3.<span class="hljs-number">5.1</span>/protobuf-<span class="hljs-keyword">all</span>-<span class="hljs-number">3.5</span>.<span class="hljs-number">1</span>.zip
unzip protobuf-<span class="hljs-keyword">all</span>-<span class="hljs-number">3.5</span>.<span class="hljs-number">1</span>.zip
<span class="hljs-keyword">cd</span> protobuf-<span class="hljs-number">3.5</span>.<span class="hljs-number">1</span>/
./configure
<span class="hljs-keyword">make</span>
<span class="hljs-keyword">make</span> install</code></pre><p>&#x68C0;&#x67E5;&#x662F;&#x5426;&#x5B89;&#x88C5;&#x6210;&#x529F;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="protoc --version" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="hljs ada"><code style="word-break:break-word;white-space:initial">protoc <span class="hljs-comment">--version</span></code></pre><p>&#x82E5;&#x51FA;&#x73B0;&#x4EE5;&#x4E0B;&#x9519;&#x8BEF;&#xFF0C;&#x6267;&#x884C; <code>ldconfig</code> &#x547D;&#x540D;&#x5C31;&#x80FD;&#x89E3;&#x51B3;&#x8FD9;&#x95EE;&#x9898;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="protoc: error while loading shared libraries: libprotobuf.so.15: cannot open shared object file: No such file or directory" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="hljs vhdl"><code style="word-break:break-word;white-space:initial">protoc: <span class="hljs-literal">error</span> <span class="hljs-keyword">while</span> loading <span class="hljs-keyword">shared</span> libraries: libprotobuf.so.<span class="hljs-number">15</span>: cannot <span class="hljs-keyword">open</span> <span class="hljs-keyword">shared</span> object <span class="hljs-keyword">file</span>: No such <span class="hljs-keyword">file</span> <span class="hljs-keyword">or</span> directory</code></pre><h3 id="articleHeader5">Protoc Plugin</h3><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="go get -u github.com/golang/protobuf/protoc-gen-go" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="hljs vim"><code style="word-break:break-word;white-space:initial"><span class="hljs-keyword">go</span> <span class="hljs-built_in">get</span> -<span class="hljs-keyword">u</span> github.<span class="hljs-keyword">com</span>/golang/protobuf/protoc-gen-<span class="hljs-keyword">go</span></code></pre><p>&#x5B89;&#x88C5;&#x73AF;&#x5883;&#x82E5;&#x6709;&#x95EE;&#x9898;&#xFF0C;&#x53EF;&#x53C2;&#x8003;&#x6211;&#x5148;&#x524D;&#x7684;&#x6587;&#x7AE0; <a href="https://segmentfault.com/a/1190000013339403" rel="external nofollow noopener noreferrer" target="_blank">&#x300A;&#x4ECB;&#x7ECD;&#x4E0E;&#x73AF;&#x5883;&#x5B89;&#x88C5;&#x300B;</a> &#x5185;&#x6709;&#x8BE6;&#x7EC6;&#x4ECB;&#x7ECD;&#xFF0C;&#x4E0D;&#x518D;&#x8D58;&#x8FF0;</p><h2 id="articleHeader6">gRPC</h2><p>&#x672C;&#x5C0F;&#x8282;&#x5F00;&#x59CB;&#x6B63;&#x5F0F;&#x7F16;&#x5199; gRPC &#x76F8;&#x5173;&#x7684;&#x7A0B;&#x5E8F;&#xFF0C;&#x4E00;&#x8D77;&#x4E0A;&#x8F66;&#x5427; &#x1F604;</p><h3 id="articleHeader7">&#x56FE;&#x793A;</h3><p><span class="img-wrap"><img data-src="/img/remote/1460000016583379?w=505&amp;h=319" src="https://static.alili.tech/img/remote/1460000016583379?w=505&amp;h=319" alt="image" title="image" style="cursor:pointer;display:inline"></span></p><h3 id="articleHeader8">&#x76EE;&#x5F55;&#x7ED3;&#x6784;</h3><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="$ tree go-grpc-example 
go-grpc-example
&#x251C;&#x2500;&#x2500; client
&#x251C;&#x2500;&#x2500; proto
&#x2502;&#xA0;&#xA0; &#x2514;&#x2500;&#x2500; search.proto
&#x2514;&#x2500;&#x2500; server.go" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="hljs maxima"><code>$ tree <span class="hljs-built_in">go</span>-grpc-<span class="hljs-built_in">example</span> 
<span class="hljs-built_in">go</span>-grpc-<span class="hljs-built_in">example</span>
&#x251C;&#x2500;&#x2500; client
&#x251C;&#x2500;&#x2500; proto
&#x2502;&#xA0;&#xA0; &#x2514;&#x2500;&#x2500; search.proto
&#x2514;&#x2500;&#x2500; server.<span class="hljs-built_in">go</span></code></pre><h3 id="articleHeader9">IDL</h3><h4>&#x7F16;&#x5199;</h4><p>&#x5728; proto &#x6587;&#x4EF6;&#x5939;&#x4E0B;&#x7684; search.proto &#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x5199;&#x5165;&#x5982;&#x4E0B;&#x5185;&#x5BB9;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="syntax = &quot;proto3&quot;;

package proto;

service SearchService {
    rpc Search(SearchRequest) returns (SearchResponse) {}
}

message SearchRequest {
    string request = 1;
}

message SearchResponse {
    string response = 1;
}" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="hljs protobuf"><code>syntax = <span class="hljs-string">&quot;proto3&quot;</span>;

<span class="hljs-keyword">package</span> proto;

<span class="hljs-class"><span class="hljs-keyword">service</span> <span class="hljs-title">SearchService</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">rpc</span> Search(SearchRequest) <span class="hljs-keyword">returns</span> (SearchResponse) {}
}

message SearchRequest {
    string request = 1</span>;
}

<span class="hljs-class"><span class="hljs-keyword">message</span> <span class="hljs-title">SearchResponse</span> </span>{
    <span class="hljs-built_in">string</span> response = <span class="hljs-number">1</span>;
}</code></pre><h4>&#x751F;&#x6210;</h4><p>&#x5728; proto &#x6587;&#x4EF6;&#x5939;&#x4E0B;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="$ protoc --go_out=plugins=grpc:. *.proto" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="hljs ada"><code style="word-break:break-word;white-space:initial">$ protoc <span class="hljs-comment">--go_out=plugins=grpc:. *.proto</span></code></pre><ul><li>plugins=plugin1+plugin2&#xFF1A;&#x6307;&#x5B9A;&#x8981;&#x52A0;&#x8F7D;&#x7684;&#x5B50;&#x63D2;&#x4EF6;&#x5217;&#x8868;</li></ul><p>&#x6211;&#x4EEC;&#x5B9A;&#x4E49;&#x7684; proto &#x6587;&#x4EF6;&#x662F;&#x6D89;&#x53CA;&#x4E86; RPC &#x670D;&#x52A1;&#x7684;&#xFF0C;&#x800C;&#x9ED8;&#x8BA4;&#x662F;&#x4E0D;&#x4F1A;&#x751F;&#x6210; RPC &#x4EE3;&#x7801;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x9700;&#x8981;&#x7ED9;&#x51FA; <code>plugins</code> &#x53C2;&#x6570;&#x4F20;&#x9012;&#x7ED9; <code>protoc-gen-go</code>&#xFF0C;&#x544A;&#x8BC9;&#x5B83;&#xFF0C;&#x8BF7;&#x652F;&#x6301; RPC&#xFF08;&#x8FD9;&#x91CC;&#x6307;&#x5B9A;&#x4E86; gRPC&#xFF09;</p><ul><li>--go_out=.&#xFF1A;&#x8BBE;&#x7F6E; Go &#x4EE3;&#x7801;&#x8F93;&#x51FA;&#x7684;&#x76EE;&#x5F55;</li></ul><p>&#x8BE5;&#x6307;&#x4EE4;&#x4F1A;&#x52A0;&#x8F7D; protoc-gen-go &#x63D2;&#x4EF6;&#x8FBE;&#x5230;&#x751F;&#x6210; Go &#x4EE3;&#x7801;&#x7684;&#x76EE;&#x7684;&#xFF0C;&#x751F;&#x6210;&#x7684;&#x6587;&#x4EF6;&#x4EE5; .pb.go &#x4E3A;&#x6587;&#x4EF6;&#x540E;&#x7F00;</p><ul><li>: &#xFF08;&#x5192;&#x53F7;&#xFF09;</li></ul><p>&#x5192;&#x53F7;&#x5145;&#x5F53;&#x5206;&#x9694;&#x7B26;&#x7684;&#x4F5C;&#x7528;&#xFF0C;&#x540E;&#x8DDF;&#x6240;&#x9700;&#x8981;&#x7684;&#x53C2;&#x6570;&#x96C6;&#x3002;&#x5982;&#x679C;&#x8FD9;&#x5904;&#x4E0D;&#x6D89;&#x53CA; RPC&#xFF0C;&#x547D;&#x4EE4;&#x53EF;&#x7B80;&#x5316;&#x4E3A;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="$ protoc --go_out=. *.proto" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="hljs ada"><code style="word-break:break-word;white-space:initial">$ protoc <span class="hljs-comment">--go_out=. *.proto</span></code></pre><p>&#x6CE8;&#xFF1A;&#x5EFA;&#x8BAE;&#x4F60;&#x770B;&#x770B;&#x4E24;&#x6761;&#x547D;&#x4EE4;&#x751F;&#x6210;&#x7684; .pb.go &#x6587;&#x4EF6;&#xFF0C;&#x5206;&#x522B;&#x6709;&#x4EC0;&#x4E48;&#x533A;&#x522B;</p><h4>&#x751F;&#x6210;&#x540E;</h4><p>&#x6267;&#x884C;&#x5B8C;&#x6BD5;&#x547D;&#x4EE4;&#x540E;&#xFF0C;&#x5C06;&#x5F97;&#x5230;&#x4E00;&#x4E2A; .pb.go &#x6587;&#x4EF6;&#xFF0C;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x5982;&#x4E0B;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="type SearchRequest struct {
    Request              string   `protobuf:&quot;bytes,1,opt,name=request&quot; json:&quot;request,omitempty&quot;`
    XXX_NoUnkeyedLiteral struct{} `json:&quot;-&quot;`
    XXX_unrecognized     []byte   `json:&quot;-&quot;`
    XXX_sizecache        int32    `json:&quot;-&quot;`
}

func (m *SearchRequest) Reset()         { *m = SearchRequest{} }
func (m *SearchRequest) String() string { return proto.CompactTextString(m) }
func (*SearchRequest) ProtoMessage()    {}
func (*SearchRequest) Descriptor() ([]byte, []int) {
    return fileDescriptor_search_8b45f79ee13ff6a3, []int{0}
}

func (m *SearchRequest) GetRequest() string {
    if m != nil {
        return m.Request
    }
    return &quot;&quot;
}" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="hljs go"><code><span class="hljs-keyword">type</span> SearchRequest <span class="hljs-keyword">struct</span> {
    Request              <span class="hljs-keyword">string</span>   <span class="hljs-string">`protobuf:&quot;bytes,1,opt,name=request&quot; json:&quot;request,omitempty&quot;`</span>
    XXX_NoUnkeyedLiteral <span class="hljs-keyword">struct</span>{} <span class="hljs-string">`json:&quot;-&quot;`</span>
    XXX_unrecognized     []<span class="hljs-keyword">byte</span>   <span class="hljs-string">`json:&quot;-&quot;`</span>
    XXX_sizecache        <span class="hljs-keyword">int32</span>    <span class="hljs-string">`json:&quot;-&quot;`</span>
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(m *SearchRequest)</span> <span class="hljs-title">Reset</span><span class="hljs-params">()</span></span>         { *m = SearchRequest{} }
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(m *SearchRequest)</span> <span class="hljs-title">String</span><span class="hljs-params">()</span> <span class="hljs-title">string</span></span> { <span class="hljs-keyword">return</span> proto.CompactTextString(m) }
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(*SearchRequest)</span> <span class="hljs-title">ProtoMessage</span><span class="hljs-params">()</span></span>    {}
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(*SearchRequest)</span> <span class="hljs-title">Descriptor</span><span class="hljs-params">()</span> <span class="hljs-params">([]<span class="hljs-keyword">byte</span>, []<span class="hljs-keyword">int</span>)</span></span> {
    <span class="hljs-keyword">return</span> fileDescriptor_search_8b45f79ee13ff6a3, []<span class="hljs-keyword">int</span>{<span class="hljs-number">0</span>}
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(m *SearchRequest)</span> <span class="hljs-title">GetRequest</span><span class="hljs-params">()</span> <span class="hljs-title">string</span></span> {
    <span class="hljs-keyword">if</span> m != <span class="hljs-literal">nil</span> {
        <span class="hljs-keyword">return</span> m.Request
    }
    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;&quot;</span>
}</code></pre><p>&#x901A;&#x8FC7;&#x9605;&#x8BFB;&#x8FD9;&#x4E00;&#x90E8;&#x5206;&#x4EE3;&#x7801;&#xFF0C;&#x53EF;&#x4EE5;&#x77E5;&#x9053;&#x4E3B;&#x8981;&#x6D89;&#x53CA;&#x5982;&#x4E0B;&#x65B9;&#x9762;&#xFF1A;</p><ul><li>&#x5B57;&#x6BB5;&#x540D;&#x79F0;&#x4ECE;&#x5C0F;&#x5199;&#x4E0B;&#x5212;&#x7EBF;&#x8F6C;&#x6362;&#x4E3A;&#x5927;&#x5199;&#x9A7C;&#x5CF0;&#x6A21;&#x5F0F;&#xFF08;&#x5B57;&#x6BB5;&#x5BFC;&#x51FA;&#xFF09;</li><li>&#x751F;&#x6210;&#x4E00;&#x7EC4; Getters &#x65B9;&#x6CD5;&#xFF0C;&#x80FD;&#x4FBF;&#x4E8E;&#x5904;&#x7406;&#x4E00;&#x4E9B;&#x7A7A;&#x6307;&#x9488;&#x53D6;&#x503C;&#x7684;&#x60C5;&#x51B5;</li><li>ProtoMessage &#x65B9;&#x6CD5;&#x5B9E;&#x73B0; proto.Message &#x7684;&#x63A5;&#x53E3;</li><li>&#x751F;&#x6210; Rest &#x65B9;&#x6CD5;&#xFF0C;&#x4FBF;&#x4E8E;&#x5C06; Protobuf &#x7ED3;&#x6784;&#x4F53;&#x6062;&#x590D;&#x4E3A;&#x96F6;&#x503C;</li><li>Repeated &#x8F6C;&#x6362;&#x4E3A;&#x5207;&#x7247;</li></ul><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="type SearchRequest struct {
    Request              string   `protobuf:&quot;bytes,1,opt,name=request&quot; json:&quot;request,omitempty&quot;`
}

func (*SearchRequest) Descriptor() ([]byte, []int) {
    return fileDescriptor_search_8b45f79ee13ff6a3, []int{0}
}

type SearchResponse struct {
    Response             string   `protobuf:&quot;bytes,1,opt,name=response&quot; json:&quot;response,omitempty&quot;`
}

func (*SearchResponse) Descriptor() ([]byte, []int) {
    return fileDescriptor_search_8b45f79ee13ff6a3, []int{1}
}

...

func init() { proto.RegisterFile(&quot;search.proto&quot;, fileDescriptor_search_8b45f79ee13ff6a3) }

var fileDescriptor_search_8b45f79ee13ff6a3 = []byte{
    // 131 bytes of a gzipped FileDescriptorProto
    0x1f, 0x8b, 0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0xff, 0xe2, 0xe2, 0x29, 0x4e, 0x4d, 0x2c,
    0x4a, 0xce, 0xd0, 0x2b, 0x28, 0xca, 0x2f, 0xc9, 0x17, 0x62, 0x05, 0x53, 0x4a, 0x9a, 0x5c, 0xbc,
    0xc1, 0x60, 0xe1, 0xa0, 0xd4, 0xc2, 0xd2, 0xd4, 0xe2, 0x12, 0x21, 0x09, 0x2e, 0xf6, 0x22, 0x08,
    0x53, 0x82, 0x51, 0x81, 0x51, 0x83, 0x33, 0x08, 0xc6, 0x55, 0xd2, 0xe1, 0xe2, 0x83, 0x29, 0x2d,
    0x2e, 0xc8, 0xcf, 0x2b, 0x4e, 0x15, 0x92, 0xe2, 0xe2, 0x28, 0x82, 0xb2, 0xa1, 0x8a, 0xe1, 0x7c,
    0x23, 0x0f, 0x98, 0xc1, 0xc1, 0xa9, 0x45, 0x65, 0x99, 0xc9, 0xa9, 0x42, 0xe6, 0x5c, 0x6c, 0x10,
    0x01, 0x21, 0x11, 0x88, 0x13, 0xf4, 0x50, 0x2c, 0x96, 0x12, 0x45, 0x13, 0x85, 0x98, 0xa3, 0xc4,
    0x90, 0xc4, 0x06, 0x16, 0x37, 0x06, 0x04, 0x00, 0x00, 0xff, 0xff, 0xf3, 0xba, 0x74, 0x95, 0xc0,
    0x00, 0x00, 0x00,
}" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="hljs x86asm"><code>type SearchRequest struct {
    Request              string   <span class="hljs-string">`protobuf:&quot;bytes,1,opt,name=request&quot; json:&quot;request,omitempty&quot;`</span>
}

func (*SearchRequest) Descriptor() ([]<span class="hljs-built_in">byte</span>, []<span class="hljs-keyword">int</span>) {
    return fileDescriptor_search_8b45f79ee13ff6a3, []<span class="hljs-keyword">int</span>{<span class="hljs-number">0</span>}
}

type SearchResponse struct {
    Response             string   <span class="hljs-string">`protobuf:&quot;bytes,1,opt,name=response&quot; json:&quot;response,omitempty&quot;`</span>
}

func (*SearchResponse) Descriptor() ([]<span class="hljs-built_in">byte</span>, []<span class="hljs-keyword">int</span>) {
    return fileDescriptor_search_8b45f79ee13ff6a3, []<span class="hljs-keyword">int</span>{<span class="hljs-number">1</span>}
}

...

func init() { proto.RegisterFile(<span class="hljs-string">&quot;search.proto&quot;</span>, fileDescriptor_search_8b45f79ee13ff6a3) }

var fileDescriptor_search_8b45f79ee13ff6a3 = []<span class="hljs-built_in">byte</span>{
    // <span class="hljs-number">131</span> bytes of a gzipped FileDescriptorProto
    <span class="hljs-number">0x1f</span>, <span class="hljs-number">0x8b</span>, <span class="hljs-number">0x08</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x02</span>, <span class="hljs-number">0xff</span>, <span class="hljs-number">0xe2</span>, <span class="hljs-number">0xe2</span>, <span class="hljs-number">0x29</span>, <span class="hljs-number">0x4e</span>, <span class="hljs-number">0x4d</span>, <span class="hljs-number">0x2c</span>,
    <span class="hljs-number">0x4a</span>, <span class="hljs-number">0xce</span>, <span class="hljs-number">0xd0</span>, <span class="hljs-number">0x2b</span>, <span class="hljs-number">0x28</span>, <span class="hljs-number">0xca</span>, <span class="hljs-number">0x2f</span>, <span class="hljs-number">0xc9</span>, <span class="hljs-number">0x17</span>, <span class="hljs-number">0x62</span>, <span class="hljs-number">0x05</span>, <span class="hljs-number">0x53</span>, <span class="hljs-number">0x4a</span>, <span class="hljs-number">0x9a</span>, <span class="hljs-number">0x5c</span>, <span class="hljs-number">0xbc</span>,
    <span class="hljs-number">0xc1</span>, <span class="hljs-number">0x60</span>, <span class="hljs-number">0xe1</span>, <span class="hljs-number">0xa0</span>, <span class="hljs-number">0xd4</span>, <span class="hljs-number">0xc2</span>, <span class="hljs-number">0xd2</span>, <span class="hljs-number">0xd4</span>, <span class="hljs-number">0xe2</span>, <span class="hljs-number">0x12</span>, <span class="hljs-number">0x21</span>, <span class="hljs-number">0x09</span>, <span class="hljs-number">0x2e</span>, <span class="hljs-number">0xf6</span>, <span class="hljs-number">0x22</span>, <span class="hljs-number">0x08</span>,
    <span class="hljs-number">0x53</span>, <span class="hljs-number">0x82</span>, <span class="hljs-number">0x51</span>, <span class="hljs-number">0x81</span>, <span class="hljs-number">0x51</span>, <span class="hljs-number">0x83</span>, <span class="hljs-number">0x33</span>, <span class="hljs-number">0x08</span>, <span class="hljs-number">0xc6</span>, <span class="hljs-number">0x55</span>, <span class="hljs-number">0xd2</span>, <span class="hljs-number">0xe1</span>, <span class="hljs-number">0xe2</span>, <span class="hljs-number">0x83</span>, <span class="hljs-number">0x29</span>, <span class="hljs-number">0x2d</span>,
    <span class="hljs-number">0x2e</span>, <span class="hljs-number">0xc8</span>, <span class="hljs-number">0xcf</span>, <span class="hljs-number">0x2b</span>, <span class="hljs-number">0x4e</span>, <span class="hljs-number">0x15</span>, <span class="hljs-number">0x92</span>, <span class="hljs-number">0xe2</span>, <span class="hljs-number">0xe2</span>, <span class="hljs-number">0x28</span>, <span class="hljs-number">0x82</span>, <span class="hljs-number">0xb2</span>, <span class="hljs-number">0xa1</span>, <span class="hljs-number">0x8a</span>, <span class="hljs-number">0xe1</span>, <span class="hljs-number">0x7c</span>,
    <span class="hljs-number">0x23</span>, <span class="hljs-number">0x0f</span>, <span class="hljs-number">0x98</span>, <span class="hljs-number">0xc1</span>, <span class="hljs-number">0xc1</span>, <span class="hljs-number">0xa9</span>, <span class="hljs-number">0x45</span>, <span class="hljs-number">0x65</span>, <span class="hljs-number">0x99</span>, <span class="hljs-number">0xc9</span>, <span class="hljs-number">0xa9</span>, <span class="hljs-number">0x42</span>, <span class="hljs-number">0xe6</span>, <span class="hljs-number">0x5c</span>, <span class="hljs-number">0x6c</span>, <span class="hljs-number">0x10</span>,
    <span class="hljs-number">0x01</span>, <span class="hljs-number">0x21</span>, <span class="hljs-number">0x11</span>, <span class="hljs-number">0x88</span>, <span class="hljs-number">0x13</span>, <span class="hljs-number">0xf4</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x2c</span>, <span class="hljs-number">0x96</span>, <span class="hljs-number">0x12</span>, <span class="hljs-number">0x45</span>, <span class="hljs-number">0x13</span>, <span class="hljs-number">0x85</span>, <span class="hljs-number">0x98</span>, <span class="hljs-number">0xa3</span>, <span class="hljs-number">0xc4</span>,
    <span class="hljs-number">0x90</span>, <span class="hljs-number">0xc4</span>, <span class="hljs-number">0x06</span>, <span class="hljs-number">0x16</span>, <span class="hljs-number">0x37</span>, <span class="hljs-number">0x06</span>, <span class="hljs-number">0x04</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0xff</span>, <span class="hljs-number">0xff</span>, <span class="hljs-number">0xf3</span>, <span class="hljs-number">0xba</span>, <span class="hljs-number">0x74</span>, <span class="hljs-number">0x95</span>, <span class="hljs-number">0xc0</span>,
    <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>,
}</code></pre><p>&#x800C;&#x8FD9;&#x4E00;&#x90E8;&#x5206;&#x4EE3;&#x7801;&#x4E3B;&#x8981;&#x662F;&#x56F4;&#x7ED5; <code>fileDescriptor</code> &#x8FDB;&#x884C;&#xFF0C;&#x5728;&#x8FD9;&#x91CC; <code>fileDescriptor_search_8b45f79ee13ff6a3</code> &#x8868;&#x793A;&#x4E00;&#x4E2A;&#x7F16;&#x8BD1;&#x540E;&#x7684; proto &#x6587;&#x4EF6;&#xFF0C;&#x800C;&#x6BCF;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#x90FD;&#x5305;&#x542B; Descriptor &#x65B9;&#x6CD5;&#xFF0C;&#x4EE3;&#x8868;&#x7740;&#x8FD9;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#x5728; <code>fileDescriptor</code> &#x4E2D;&#x5177;&#x4F53;&#x7684; Message Field</p><h3 id="articleHeader10">Server</h3><p>&#x8FD9;&#x4E00;&#x5C0F;&#x8282;&#x5C06;&#x7F16;&#x5199; gRPC Server &#x7684;&#x57FA;&#x7840;&#x6A21;&#x677F;&#xFF0C;&#x5B8C;&#x6210;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#x7684;&#x8C03;&#x7528;&#x3002;&#x5BF9; server.go &#x5199;&#x5165;&#x5982;&#x4E0B;&#x5185;&#x5BB9;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="package main

import (
    &quot;context&quot;
    &quot;log&quot;
    &quot;net&quot;

    &quot;google.golang.org/grpc&quot;

    pb &quot;github.com/EDDYCJY/go-grpc-example/proto&quot;
)

type SearchService struct{}

func (s *SearchService) Search(ctx context.Context, r *pb.SearchRequest) (*pb.SearchResponse, error) {
    return &amp;pb.SearchResponse{Response: r.GetRequest() + &quot; Server&quot;}, nil
}

const PORT = &quot;9001&quot;

func main() {
    server := grpc.NewServer()
    pb.RegisterSearchServiceServer(server, &amp;SearchService{})

    lis, err := net.Listen(&quot;tcp&quot;, &quot;:&quot;+PORT)
    if err != nil {
        log.Fatalf(&quot;net.Listen err: %v&quot;, err)
    }

    server.Serve(lis)
}" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="hljs go"><code><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (
    <span class="hljs-string">&quot;context&quot;</span>
    <span class="hljs-string">&quot;log&quot;</span>
    <span class="hljs-string">&quot;net&quot;</span>

    <span class="hljs-string">&quot;google.golang.org/grpc&quot;</span>

    pb <span class="hljs-string">&quot;github.com/EDDYCJY/go-grpc-example/proto&quot;</span>
)

<span class="hljs-keyword">type</span> SearchService <span class="hljs-keyword">struct</span>{}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(s *SearchService)</span> <span class="hljs-title">Search</span><span class="hljs-params">(ctx context.Context, r *pb.SearchRequest)</span> <span class="hljs-params">(*pb.SearchResponse, error)</span></span> {
    <span class="hljs-keyword">return</span> &amp;pb.SearchResponse{Response: r.GetRequest() + <span class="hljs-string">&quot; Server&quot;</span>}, <span class="hljs-literal">nil</span>
}

<span class="hljs-keyword">const</span> PORT = <span class="hljs-string">&quot;9001&quot;</span>

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    server := grpc.NewServer()
    pb.RegisterSearchServiceServer(server, &amp;SearchService{})

    lis, err := net.Listen(<span class="hljs-string">&quot;tcp&quot;</span>, <span class="hljs-string">&quot;:&quot;</span>+PORT)
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        log.Fatalf(<span class="hljs-string">&quot;net.Listen err: %v&quot;</span>, err)
    }

    server.Serve(lis)
}</code></pre><ul><li>&#x521B;&#x5EFA; gRPC Server &#x5BF9;&#x8C61;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x4E3A;&#x5B83;&#x662F; Server &#x7AEF;&#x7684;&#x62BD;&#x8C61;&#x5BF9;&#x8C61;</li><li>&#x5C06; SearchService&#xFF08;&#x5176;&#x5305;&#x542B;&#x9700;&#x8981;&#x88AB;&#x8C03;&#x7528;&#x7684;&#x670D;&#x52A1;&#x7AEF;&#x63A5;&#x53E3;&#xFF09;&#x6CE8;&#x518C;&#x5230; gRPC Server &#x7684;&#x5185;&#x90E8;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x3002;&#x8FD9;&#x6837;&#x53EF;&#x4EE5;&#x5728;&#x63A5;&#x53D7;&#x5230;&#x8BF7;&#x6C42;&#x65F6;&#xFF0C;&#x901A;&#x8FC7;&#x5185;&#x90E8;&#x7684;&#x670D;&#x52A1;&#x53D1;&#x73B0;&#xFF0C;&#x53D1;&#x73B0;&#x8BE5;&#x670D;&#x52A1;&#x7AEF;&#x63A5;&#x53E3;&#x5E76;&#x8F6C;&#x63A5;&#x8FDB;&#x884C;&#x903B;&#x8F91;&#x5904;&#x7406;</li><li>&#x521B;&#x5EFA; Listen&#xFF0C;&#x76D1;&#x542C; TCP &#x7AEF;&#x53E3;</li><li>gRPC Server &#x5F00;&#x59CB; lis.Accept&#xFF0C;&#x76F4;&#x5230; Stop &#x6216; GracefulStop</li></ul><h3 id="articleHeader11">Client</h3><p>&#x63A5;&#x4E0B;&#x6765;&#x7F16;&#x5199; gRPC Go Client &#x7684;&#x57FA;&#x7840;&#x6A21;&#x677F;&#xFF0C;&#x6253;&#x5F00; client/client.go &#x6587;&#x4EF6;&#xFF0C;&#x5199;&#x5165;&#x4EE5;&#x4E0B;&#x5185;&#x5BB9;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="package main

import (
    &quot;context&quot;
    &quot;log&quot;

    &quot;google.golang.org/grpc&quot;

    pb &quot;github.com/EDDYCJY/go-grpc-example/proto&quot;
)

const PORT = &quot;9001&quot;

func main() {
    conn, err := grpc.Dial(&quot;:&quot;+PORT, grpc.WithInsecure())
    if err != nil {
        log.Fatalf(&quot;grpc.Dial err: %v&quot;, err)
    }
    defer conn.Close()

    client := pb.NewSearchServiceClient(conn)
    resp, err := client.Search(context.Background(), &amp;pb.SearchRequest{
        Request: &quot;gRPC&quot;,
    })
    if err != nil {
        log.Fatalf(&quot;client.Search err: %v&quot;, err)
    }

    log.Printf(&quot;resp: %s&quot;, resp.GetResponse())
}" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="hljs go"><code><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (
    <span class="hljs-string">&quot;context&quot;</span>
    <span class="hljs-string">&quot;log&quot;</span>

    <span class="hljs-string">&quot;google.golang.org/grpc&quot;</span>

    pb <span class="hljs-string">&quot;github.com/EDDYCJY/go-grpc-example/proto&quot;</span>
)

<span class="hljs-keyword">const</span> PORT = <span class="hljs-string">&quot;9001&quot;</span>

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    conn, err := grpc.Dial(<span class="hljs-string">&quot;:&quot;</span>+PORT, grpc.WithInsecure())
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        log.Fatalf(<span class="hljs-string">&quot;grpc.Dial err: %v&quot;</span>, err)
    }
    <span class="hljs-keyword">defer</span> conn.Close()

    client := pb.NewSearchServiceClient(conn)
    resp, err := client.Search(context.Background(), &amp;pb.SearchRequest{
        Request: <span class="hljs-string">&quot;gRPC&quot;</span>,
    })
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        log.Fatalf(<span class="hljs-string">&quot;client.Search err: %v&quot;</span>, err)
    }

    log.Printf(<span class="hljs-string">&quot;resp: %s&quot;</span>, resp.GetResponse())
}</code></pre><ul><li>&#x521B;&#x5EFA;&#x4E0E;&#x7ED9;&#x5B9A;&#x76EE;&#x6807;&#xFF08;&#x670D;&#x52A1;&#x7AEF;&#xFF09;&#x7684;&#x8FDE;&#x63A5;&#x4EA4;&#x4E92;</li><li>&#x521B;&#x5EFA; SearchService &#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x5BF9;&#x8C61;</li><li>&#x53D1;&#x9001; RPC &#x8BF7;&#x6C42;&#xFF0C;&#x7B49;&#x5F85;&#x540C;&#x6B65;&#x54CD;&#x5E94;&#xFF0C;&#x5F97;&#x5230;&#x56DE;&#x8C03;&#x540E;&#x8FD4;&#x56DE;&#x54CD;&#x5E94;&#x7ED3;&#x679C;</li><li>&#x8F93;&#x51FA;&#x54CD;&#x5E94;&#x7ED3;&#x679C;</li></ul><h2 id="articleHeader12">&#x9A8C;&#x8BC1;</h2><h3 id="articleHeader13">&#x542F;&#x52A8; Server</h3><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="$ pwd
$GOPATH/github.com/EDDYCJY/go-grpc-example
$ go run server.go" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="hljs vim"><code class="sh">$ <span class="hljs-keyword">pwd</span>
$GOPATH/github.<span class="hljs-keyword">com</span>/EDDYCJY/<span class="hljs-keyword">go</span>-grpc-example
$ <span class="hljs-keyword">go</span> run server.<span class="hljs-keyword">go</span></code></pre><h3 id="articleHeader14">&#x542F;&#x52A8; Client</h3><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="$ pwd             
$GOPATH/github.com/EDDYCJY/go-grpc-example/client
$ go run client.go 
2018/09/23 11:06:23 resp: gRPC Server" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="hljs vim"><code class="sh">$ <span class="hljs-keyword">pwd</span>             
$GOPATH/github.<span class="hljs-keyword">com</span>/EDDYCJY/<span class="hljs-keyword">go</span>-grpc-example/client
$ <span class="hljs-keyword">go</span> run client.<span class="hljs-keyword">go</span> 
<span class="hljs-number">2018</span>/<span class="hljs-number">09</span>/<span class="hljs-number">23</span> <span class="hljs-number">11</span>:<span class="hljs-number">06</span>:<span class="hljs-number">23</span> resp: gRPC Server</code></pre><h2 id="articleHeader15">&#x603B;&#x7ED3;</h2><p>&#x5728;&#x672C;&#x7AE0;&#x8282;&#xFF0C;&#x6211;&#x4EEC;&#x5BF9; Protobuf&#x3001;gRPC Client/Server &#x5206;&#x522B;&#x90FD;&#x8FDB;&#x884C;&#x4E86;&#x4ECB;&#x7ECD;&#x3002;&#x5E0C;&#x671B;&#x4F60;&#x7ED3;&#x5408;&#x6587;&#x4E2D;&#x8BB2;&#x8FF0;&#x5185;&#x5BB9;&#x518D;&#x5199;&#x4E00;&#x4E2A; Demo &#x8FDB;&#x884C;&#x6DF1;&#x5165;&#x4E86;&#x89E3;&#xFF0C;&#x80AF;&#x5B9A;&#x4F1A;&#x66F4;&#x68D2; &#x1F914;</p><h2 id="articleHeader16">&#x7CFB;&#x5217;&#x76EE;&#x5F55;</h2><ul><li><a href="https://segmentfault.com/a/1190000016496136" target="_blank" rel="external nofollow noopener noreferrer">&#x5E26;&#x5165;gRPC&#xFF1A;gRPC&#x53CA;&#x76F8;&#x5173;&#x4ECB;&#x7ECD;</a></li><li><a href="https://segmentfault.com/a/1190000016496165" rel="external nofollow noopener noreferrer" target="_blank">&#x5E26;&#x5165;gRPC&#xFF1A;gRPC Client and Server</a></li><li><a href="https://segmentfault.com/a/1190000016503114" target="_blank" rel="external nofollow noopener noreferrer">&#x5E26;&#x5165;gRPC&#xFF1A;gRPC Streaming, Client and Server</a></li></ul>

<h1 id="版权声明"><a href="#版权声明" class="headerlink" title="版权声明"></a>版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，<br>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。<br>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p>
<h2 id="原文标题"><a href="#原文标题" class="headerlink" title="原文标题"></a>原文标题</h2><p>带入gRPC：gRPC Client and Server</p>
<h2 id="原文链接"><a href="#原文链接" class="headerlink" title="原文链接"></a>原文链接</h2><p><a href="https://segmentfault.com/a/1190000016496165" rel="external nofollow noopener noreferrer" target="_blank">https://segmentfault.com/a/1190000016496165</a></p>
<p></p><h2> 本文链接：</h2> <a href="https://alili.tech/archive/f29e3b28/">https://alili.tech/archive/f29e3b28/</a> <p></p>
  </div>
</article>


<!-- 
    <div class="blog-post-comments">
        <div id="disqus_thread">
            <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        </div>
    </div>
 -->

<div id="ad-box">
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <!-- Alili Color -->
    <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1769617155450062" data-ad-slot="6920805491" data-ad-format="link" data-full-width-responsive="true"></ins>
    <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>

<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="//unpkg.com/valine/dist/Valine.min.js"></script>
<div class="blog-post-comments"></div>
<script>
    new Valine({
        el: '.blog-post-comments', // 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', // 这里填写上面得到的APP ID
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', // 这里填写上面得到的APP KEY
        placeholder: '说点什么?', // [v1.0.7 new]留言框占位提示文字
        avatar:'retro',
        notify:true,
        verify:true
    });
</script>
    </div>
    
      <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/archives/">Archives</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="http://github.com/Fantasy9527" rel="external nofollow noopener noreferrer" target="_blank">Github</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#articleHeader0"><span class="toc-number">1.</span> <span class="toc-text">带入gRPC：gRPC Client and Server</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#articleHeader1"><span class="toc-number">1.1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#articleHeader2"><span class="toc-number">1.2.</span> <span class="toc-text">安装</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#articleHeader3"><span class="toc-number">1.2.1.</span> <span class="toc-text">gRPC</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#articleHeader4"><span class="toc-number">1.2.2.</span> <span class="toc-text">Protocol Buffers v3</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#articleHeader5"><span class="toc-number">1.2.3.</span> <span class="toc-text">Protoc Plugin</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#articleHeader6"><span class="toc-number">1.3.</span> <span class="toc-text">gRPC</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#articleHeader7"><span class="toc-number">1.3.1.</span> <span class="toc-text">图示</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#articleHeader8"><span class="toc-number">1.3.2.</span> <span class="toc-text">目录结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#articleHeader9"><span class="toc-number">1.3.3.</span> <span class="toc-text">IDL</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#undefined"><span class="toc-number">1.3.3.1.</span> <span class="toc-text">编写</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#undefined"><span class="toc-number">1.3.3.2.</span> <span class="toc-text">生成</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#undefined"><span class="toc-number">1.3.3.3.</span> <span class="toc-text">生成后</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#articleHeader10"><span class="toc-number">1.3.4.</span> <span class="toc-text">Server</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#articleHeader11"><span class="toc-number">1.3.5.</span> <span class="toc-text">Client</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#articleHeader12"><span class="toc-number">1.4.</span> <span class="toc-text">验证</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#articleHeader13"><span class="toc-number">1.4.1.</span> <span class="toc-text">启动 Server</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#articleHeader14"><span class="toc-number">1.4.2.</span> <span class="toc-text">启动 Client</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#articleHeader15"><span class="toc-number">1.5.</span> <span class="toc-text">总结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#articleHeader16"><span class="toc-number">1.6.</span> <span class="toc-text">系列目录</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#版权声明"><span class="toc-number">2.</span> <span class="toc-text">版权声明</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#原文标题"><span class="toc-number">2.1.</span> <span class="toc-text">原文标题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#原文链接"><span class="toc-number">2.2.</span> <span class="toc-text">原文链接</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#undefined"><span class="toc-number">2.3.</span> <span class="toc-text"> 本文链接：</span></a></li></ol></li></ol>
    </div>


    <div id="actions-footer" style="display:none">
      <ul>
        <li id="toc"><a class="icon" href="#" onclick="$(&quot;#toc-footer&quot;).toggle();return false"><i class="fa fa-list fa-lg" aria-hidden="true"></i> 目录</a></li>
        <li id="top" style="display:none"><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast')"><i class="fa fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a></li>
        <li id="menu"><a class="icon" href="#" onclick="$(&quot;#nav-footer&quot;).toggle();return false"><i class="fa fa-bars fa-lg" aria-hidden="true"></i> 导航</a></li>
      </ul>
    </div>

  </div>
</div>
    
    <footer id="footer">
  <div class="footer-left">
    Hosted by <a href="https://pages.coding.me" style="font-weight: bold" rel="external nofollow noopener noreferrer" target="_blank">Coding Pages</a>
 </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/archives/">Archives</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a target="_blank" href="http://github.com/Fantasy9527" rel="external nofollow noopener noreferrer">Github</a></li>
        
      </ul>
    </nav>
  </div>
 

 <p>Copyright &copy; 2018 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号 </a></p>
 
</footer>
    <script src="/lib/justified-gallery/jquery.justifiedGallery.min.js"></script>
<script src="/js/main.js"></script>
<!-- Disqus Comments -->

    <!-- <script type="text/javascript">
        var disqus_shortname = 'alili-tech';

        (function(){
            var dsq = document.createElement('script');
            dsq.type = 'text/javascript';
            dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            if(window.location.host=="localhost:4000")return;
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        }());
    </script> -->

    <script>
    (function(){
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
        }
        else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
    </script>
    <script>(function(){
        var src = (document.location.protocol == "http:") ? "http://js.passport.qihucdn.com/11.0.1.js?05520debdbedd780ba345d83b7d5e6f4":"https://jspassport.ssl.qhimg.com/11.0.1.js?05520debdbedd780ba345d83b7d5e6f4";
        document.write('<script src="' + src + '" id="sozz"><\/script>');
        })();
        </script>

<!-- <script async src="/js/jquery.min.js"></script> -->
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<script src="https://c.mipcdn.com/static/v1/mip.js"></script>
<script>if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('/sw.js?t=1541675544319')
    .then(function () {console.log('ServiceWorker Register Successfully.')})
    .catch(function (e) {console.error(e)});
}
</script></body>
</html>