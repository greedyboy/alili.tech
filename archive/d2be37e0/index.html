<!DOCTYPE html>
<html mip="" lang="zh">
<head><link rel="manifest" href="/manifest.json"><link rel="manifest" href="/manifest.json">
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no">
    <meta name="wap-font-scale" content="no">
    <meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34">
    <meta name="sogou_site_verification" content="E8uWFBcf4a">
    <meta name="description" content="&amp;#x672C;&amp;#x6587;&amp;#x5C06;&amp;#x63A2;&amp;#x8BA8;tree-shaking&amp;#x5728;&amp;#x5F53;&amp;#x4E0B;(webpack@3, babel@6 &amp;#x4EE5;&amp;#x4E0B;)&amp;#x7684;&amp;#x73B0;&amp;#x72B6;&amp;#xFF0C;&amp;#x4EE5;&amp;#x53CA;&amp;#x7814;&amp;#x7A76;&amp;#x4E3A;&amp;#x4EC0;&amp;#x4E48">
<meta name="keywords" content="Alili,前端大爆炸,WEB BANG BANG BANG,web前端博客,前端模块化,前端工程,富应用开发,html5上传,前端数据监控,性能优化,网页制作,前端,js,html5,css,踩坑小报告,微前端,树莓派,前端开发,区块链,网络,Mongodb,Vue.js,Angular.js,node.js">
<meta property="og:type" content="article">
<meta property="og:title" content="你的Tree-Shaking并没什么卵用">
<meta property="og:url" content="https://alili.tech/archive/d2be37e0/index.html">
<meta property="og:site_name" content="Alili">
<meta property="og:description" content="&amp;#x672C;&amp;#x6587;&amp;#x5C06;&amp;#x63A2;&amp;#x8BA8;tree-shaking&amp;#x5728;&amp;#x5F53;&amp;#x4E0B;(webpack@3, babel@6 &amp;#x4EE5;&amp;#x4E0B;)&amp;#x7684;&amp;#x73B0;&amp;#x72B6;&amp;#xFF0C;&amp;#x4EE5;&amp;#x53CA;&amp;#x7814;&amp;#x7A76;&amp;#x4E3A;&amp;#x4EC0;&amp;#x4E48">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2018-11-08T11:12:10.623Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="你的Tree-Shaking并没什么卵用">
<meta name="twitter:description" content="&amp;#x672C;&amp;#x6587;&amp;#x5C06;&amp;#x63A2;&amp;#x8BA8;tree-shaking&amp;#x5728;&amp;#x5F53;&amp;#x4E0B;(webpack@3, babel@6 &amp;#x4EE5;&amp;#x4E0B;)&amp;#x7684;&amp;#x73B0;&amp;#x72B6;&amp;#xFF0C;&amp;#x4EE5;&amp;#x53CA;&amp;#x7814;&amp;#x7A76;&amp;#x4E3A;&amp;#x4EC0;&amp;#x4E48">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon-192x192.png">
          
        
    
    <!-- title -->
    <title>你的Tree-Shaking并没什么卵用 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title>
    <link rel="stylesheet" type="text/css" href="https://c.mipcdn.com/static/v1/mip.css">
    <link rel="manifest" href="/manifest.json">
    <!-- styles -->
    <link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/lib/meslo-LG/styles.css">
    <link rel="stylesheet" href="/lib/justified-gallery/justifiedGallery.min.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="canonical" href="https://alili.tech/archive/d2be37e0/">
    <!-- rss -->
    
    
    <!-- jquery -->
    <script src="/lib/jquery/jquery.min.js"></script>
    <!-- 熊掌号  -->
    <script type="application/ld+json">
  {
      "@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
      "@id": "https://alili.tech/archive/d2be37e0/",
      "appid": "1613049289050283", 
      "title": "你的Tree-Shaking并没什么卵用 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
      "images": [],
      "pubDate": "2018-11-08T11:13:16"
  } 
</script>
<script>
  document.addEventListener("error", function (e) {
    var elem = e.target;
    if (elem.tagName.toLowerCase() == 'img') {
      elem.style.display='none'
    }
  }, true);
  </script>

</head>
<body>
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast')" style="display:none"><i class="fa fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/archives/">Archives</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="http://github.com/Fantasy9527" rel="external nofollow noopener noreferrer" target="_blank">Github</a></li>
        
      </ul>
    </span>
    <br>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/archive/73ec6a2b/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover="$(&quot;#i-prev&quot;).toggle()" onmouseout="$(&quot;#i-prev&quot;).toggle()"></i></a></li>
        
        
        <li><a class="icon" href="/archive/2f7b1984/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover="$(&quot;#i-next&quot;).toggle()" onmouseout="$(&quot;#i-next&quot;).toggle()"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast')"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover="$(&quot;#i-top&quot;).toggle()" onmouseout="$(&quot;#i-top&quot;).toggle()"></i></a></li>
        <li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover="$(&quot;#i-share&quot;).toggle()" onmouseout="$(&quot;#i-share&quot;).toggle()" onclick="$(&quot;#share&quot;).toggle();return false"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none">Previous post</span>
      <span id="i-next" class="info" style="display:none">Next post</span>
      <span id="i-top" class="info" style="display:none">Back to top</span>
      <span id="i-share" class="info" style="display:none">Share post</span>
    </span>
    <br>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https://alili.tech/archive/d2be37e0/&text=你的Tree-Shaking并没什么卵用" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-weibo" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://alili.tech/archive/d2be37e0/" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-facebook" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://alili.tech/archive/d2be37e0/&text=你的Tree-Shaking并没什么卵用" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-twitter" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://alili.tech/archive/d2be37e0/&title=你的Tree-Shaking并没什么卵用" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://alili.tech/archive/d2be37e0/&is_video=false&description=你的Tree-Shaking并没什么卵用" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=你的Tree-Shaking并没什么卵用&body=Check out this article: https://alili.tech/archive/d2be37e0/"><i class="fa fa-envelope" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://alili.tech/archive/d2be37e0/&title=你的Tree-Shaking并没什么卵用" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://alili.tech/archive/d2be37e0/&title=你的Tree-Shaking并没什么卵用" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-reddit" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://alili.tech/archive/d2be37e0/&title=你的Tree-Shaking并没什么卵用" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://alili.tech/archive/d2be37e0/&title=你的Tree-Shaking并没什么卵用" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-digg" aria-hidden="true"></i></a></li>
</ul>
    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#articleHeader0"><span class="toc-number">1.</span> <span class="toc-text">Tree-Shaking的原理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#articleHeader1"><span class="toc-number">2.</span> <span class="toc-text">副作用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#articleHeader2"><span class="toc-number">3.</span> <span class="toc-text">成也Babel，败也Babel</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#articleHeader3"><span class="toc-number">4.</span> <span class="toc-text">不够屌的UglifyJS</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#articleHeader4"><span class="toc-number">5.</span> <span class="toc-text">那到底该怎么办？</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#articleHeader5"><span class="toc-number">5.1.</span> <span class="toc-text">如果是使用webpack打包JavaScript库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#articleHeader6"><span class="toc-number">5.2.</span> <span class="toc-text">使用rollup打包JavaScript库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#articleHeader7"><span class="toc-number">5.3.</span> <span class="toc-text">使用webpack打包工程化项目</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#articleHeader8"><span class="toc-number">6.</span> <span class="toc-text">总结</span></a></li></ol><li class="toc-item toc-level-1"><a class="toc-link" href="#版权声明"><span class="toc-number"></span> <span class="toc-text">版权声明</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#原文标题"><span class="toc-number">1.</span> <span class="toc-text">原文标题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#原文链接"><span class="toc-number">2.</span> <span class="toc-text">原文链接</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#undefined"><span class="toc-number">3.</span> <span class="toc-text"> 本文链接：</span></a></li></ol>
    </li></div>
  </span>
</div>
    
    <div class="content index width mx-auto px3 my4">
        
        <article class="post" itemscope="" itemtype="http://schema.org/BlogPosting">
  <header>
    <h1 class="posttitle" itemprop="name headline">
        你的Tree-Shaking并没什么卵用
    </h1>
    <div class="meta">
      <div class="postdate">
        <time datetime="2018-10-28T02:30:10.000Z" itemprop="datePublished">2018-10-28</time>
    </div>
      <div class="article-tag">
          <i class="fa fa-eye"></i>
          <span id="busuanzi_container_page_pv">
              <span id="busuanzi_value_page_pv">0</span>
            </span>
          
      </div>
      
    </div>
  </header>
  
  <div class="content" itemprop="articleBody">
    <blockquote>&#x672C;&#x6587;&#x5C06;&#x63A2;&#x8BA8;tree-shaking&#x5728;&#x5F53;&#x4E0B;(webpack@3, babel@6 &#x4EE5;&#x4E0B;)&#x7684;&#x73B0;&#x72B6;&#xFF0C;&#x4EE5;&#x53CA;&#x7814;&#x7A76;&#x4E3A;&#x4EC0;&#x4E48;tree-shaking&#x4F9D;&#x65E7;&#x4E3E;&#x6B65;&#x7EF4;&#x8270;&#x7684;&#x539F;&#x56E0;&#xFF0C;&#x6700;&#x7EC8;&#x603B;&#x7ED3;&#x5F53;&#x4E0B;&#x80FD;&#x63D0;&#x9AD8;tree-shaking&#x6548;&#x679C;&#x7684;&#x4E00;&#x4E9B;&#x624B;&#x6BB5;&#x3002;</blockquote><p>Tree-Shaking&#x8FD9;&#x4E2A;&#x540D;&#x8BCD;&#xFF0C;&#x5F88;&#x591A;&#x524D;&#x7AEF;coder&#x5DF2;&#x7ECF;&#x8033;&#x719F;&#x80FD;&#x8BE6;&#x4E86;&#xFF0C;&#x5B83;&#x4EE3;&#x8868;&#x7684;&#x5927;&#x610F;&#x5C31;&#x662F;&#x5220;&#x9664;&#x6CA1;&#x7528;&#x5230;&#x7684;&#x4EE3;&#x7801;&#x3002;&#x8FD9;&#x6837;&#x7684;&#x529F;&#x80FD;&#x5BF9;&#x4E8E;&#x6784;&#x5EFA;&#x5927;&#x578B;&#x5E94;&#x7528;&#x65F6;&#x662F;&#x975E;&#x5E38;&#x597D;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;&#x65E5;&#x5E38;&#x5F00;&#x53D1;&#x7ECF;&#x5E38;&#x9700;&#x8981;&#x5F15;&#x7528;&#x5404;&#x79CD;&#x5E93;&#x3002;&#x4F46;&#x5927;&#x591A;&#x65F6;&#x5019;&#x4EC5;&#x4EC5;&#x4F7F;&#x7528;&#x4E86;&#x8FD9;&#x4E9B;&#x5E93;&#x7684;&#x67D0;&#x4E9B;&#x90E8;&#x5206;&#xFF0C;&#x5E76;&#x975E;&#x9700;&#x8981;&#x5168;&#x90E8;&#xFF0C;&#x6B64;&#x65F6;Tree-Shaking&#x5982;&#x679C;&#x80FD;&#x5E2E;&#x52A9;&#x6211;&#x4EEC;&#x5220;&#x9664;&#x6389;&#x6CA1;&#x6709;&#x4F7F;&#x7528;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x5C06;&#x4F1A;&#x5927;&#x5927;&#x7F29;&#x51CF;&#x6253;&#x5305;&#x540E;&#x7684;&#x4EE3;&#x7801;&#x91CF;&#x3002;</p><p>Tree-Shaking&#x5728;&#x524D;&#x7AEF;&#x754C;&#x7531;<a href="https://github.com/rollup/rollup" rel="external nofollow noopener noreferrer" target="_blank">rollup</a>&#x9996;&#x5148;&#x63D0;&#x51FA;&#x5E76;&#x5B9E;&#x73B0;&#xFF0C;&#x540E;&#x7EED;<a href="https://github.com/webpack/webpack" rel="external nofollow noopener noreferrer" target="_blank">webpack</a>&#x5728;2.x&#x7248;&#x672C;&#x4E5F;&#x501F;&#x52A9;&#x4E8E;<a href="https://github.com/mishoo/UglifyJS2" rel="external nofollow noopener noreferrer" target="_blank">UglifyJS</a>&#x5B9E;&#x73B0;&#x4E86;&#x3002;&#x81EA;&#x90A3;&#x4EE5;&#x540E;&#xFF0C;&#x5728;&#x5404;&#x7C7B;&#x8BA8;&#x8BBA;&#x4F18;&#x5316;&#x6253;&#x5305;&#x7684;&#x6587;&#x7AE0;&#x4E2D;&#xFF0C;&#x90FD;&#x80FD;&#x770B;&#x5230;Tree-Shaking&#x7684;&#x8EAB;&#x5F71;&#x3002;</p><p>&#x8BB8;&#x591A;&#x5F00;&#x53D1;&#x8005;&#x770B;&#x5230;&#x5C31;&#x5F88;&#x5F00;&#x5FC3;&#xFF0C;&#x4EE5;&#x4E3A;&#x81EA;&#x5DF1;&#x5F15;&#x7528;&#x7684;elementUI&#x3001;antd &#x7B49;&#x5E93;&#x7EC8;&#x4E8E;&#x53EF;&#x4EE5;&#x5220;&#x6389;&#x4E00;&#x5927;&#x534A;&#x4E86;&#x3002;&#x7136;&#x800C;&#x7406;&#x60F3;&#x662F;&#x4E30;&#x6EE1;&#x7684;&#xFF0C;&#x73B0;&#x5B9E;&#x662F;&#x9AA8;&#x5E72;&#x7684;&#x3002;&#x5347;&#x7EA7;&#x4E4B;&#x540E;&#xFF0C;&#x9879;&#x76EE;&#x7684;&#x538B;&#x7F29;&#x5305;&#x5E76;&#x6CA1;&#x6709;&#x4EC0;&#x4E48;&#x660E;&#x663E;&#x53D8;&#x5316;&#x3002;</p><p>&#x6211;&#x4E5F;&#x9047;&#x5230;&#x4E86;&#x8FD9;&#x6837;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x524D;&#x6BB5;&#x65F6;&#x95F4;&#xFF0C;&#x9700;&#x8981;&#x5F00;&#x53D1;&#x4E2A;&#x7EC4;&#x4EF6;&#x5E93;&#x3002;&#x6211;&#x975E;&#x5E38;&#x7EB3;&#x95F7;&#x6211;&#x5F00;&#x53D1;&#x7684;&#x7EC4;&#x4EF6;&#x5E93;&#x5728;&#x6253;&#x5305;&#x540E;&#xFF0C;&#x4E3A;&#x4EC0;&#x4E48;&#x5F15;&#x7528;&#x8005;&#x901A;&#x8FC7;ES6&#x5F15;&#x7528;&#xFF0C;&#x6700;&#x7EC8;&#x4F9D;&#x65E7;&#x4F1A;&#x628A;&#x7EC4;&#x4EF6;&#x5E93;&#x4E2D;&#x6CA1;&#x6709;&#x4F7F;&#x7528;&#x8FC7;&#x7684;&#x7EC4;&#x4EF6;&#x5F15;&#x5165;&#x8FDB;&#x6765;&#x3002;</p><p>&#x4E0B;&#x9762;&#x8DDF;&#x5927;&#x5BB6;&#x5206;&#x4EAB;&#x4E0B;&#xFF0C;&#x6211;&#x5728;Tree-Shaking&#x4E0A;&#x7684;&#x6478;&#x7D22;&#x5386;&#x7A0B;&#x3002;</p><h2 id="articleHeader0">Tree-Shaking&#x7684;&#x539F;&#x7406;</h2><p>&#x8FD9;&#x91CC;&#x6211;&#x4E0D;&#x591A;&#x5197;&#x4F59;&#x9610;&#x8FF0;&#xFF0C;&#x76F4;&#x63A5;&#x8D34;&#x767E;&#x5EA6;&#x5916;&#x5356;&#x524D;&#x7AEF;&#x7684;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;&#xFF1A;<a href="https://juejin.im/post/5a4dc842518825698e7279a9" rel="external nofollow noopener noreferrer" target="_blank">Tree-Shaking&#x6027;&#x80FD;&#x4F18;&#x5316;&#x5B9E;&#x8DF5; - &#x539F;&#x7406;&#x7BC7;</a>&#x3002;</p><p>&#x5982;&#x679C;&#x61D2;&#x5F97;&#x770B;&#x6587;&#x7AE0;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x4E0B;&#x5982;&#x4E0B;&#x603B;&#x7ED3;&#xFF1A;</p><ol><li>ES6&#x7684;&#x6A21;&#x5757;&#x5F15;&#x5165;&#x662F;&#x9759;&#x6001;&#x5206;&#x6790;&#x7684;&#xFF0C;&#x6545;&#x800C;&#x53EF;&#x4EE5;&#x5728;&#x7F16;&#x8BD1;&#x65F6;&#x6B63;&#x786E;&#x5224;&#x65AD;&#x5230;&#x5E95;&#x52A0;&#x8F7D;&#x4E86;&#x4EC0;&#x4E48;&#x4EE3;&#x7801;&#x3002;</li><li>&#x5206;&#x6790;&#x7A0B;&#x5E8F;&#x6D41;&#xFF0C;&#x5224;&#x65AD;&#x54EA;&#x4E9B;&#x53D8;&#x91CF;&#x672A;&#x88AB;&#x4F7F;&#x7528;&#x3001;&#x5F15;&#x7528;&#xFF0C;&#x8FDB;&#x800C;&#x5220;&#x9664;&#x6B64;&#x4EE3;&#x7801;&#x3002;</li></ol><p>&#x5F88;&#x597D;&#xFF0C;&#x539F;&#x7406;&#x975E;&#x5E38;&#x5B8C;&#x7F8E;&#xFF0C;&#x90A3;&#x4E3A;&#x4EC0;&#x4E48;&#x6211;&#x4EEC;&#x7684;&#x4EE3;&#x7801;&#x53C8;&#x5220;&#x4E0D;&#x6389;&#x5462;&#xFF1F;</p><p><strong>&#x5148;&#x8BF4;&#x539F;&#x56E0;&#xFF1A;&#x90FD;&#x662F;&#x526F;&#x4F5C;&#x7528;&#x7684;&#x9505;&#xFF01;</strong></p><h2 id="articleHeader1">&#x526F;&#x4F5C;&#x7528;</h2><p>&#x4E86;&#x89E3;&#x8FC7;&#x51FD;&#x6570;&#x5F0F;&#x7F16;&#x7A0B;&#x7684;&#x540C;&#x5B66;&#x5BF9;&#x526F;&#x4F5C;&#x7528;&#x8FD9;&#x8BCD;&#x80AF;&#x5B9A;&#x4E0D;&#x964C;&#x751F;&#x3002;&#x5B83;&#x5927;&#x81F4;&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x6210;&#xFF1A;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x4F1A;&#x3001;&#x6216;&#x8005;&#x53EF;&#x80FD;&#x4F1A;&#x5BF9;&#x51FD;&#x6570;&#x5916;&#x90E8;&#x53D8;&#x91CF;&#x4EA7;&#x751F;&#x5F71;&#x54CD;&#x7684;&#x884C;&#x4E3A;&#x3002;</p><p>&#x4E3E;&#x4E2A;&#x4F8B;&#x5B50;&#xFF0C;&#x6BD4;&#x5982;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="function go (url) {
  window.location.href = url
}" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="javascript hljs"><code class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">go</span> (<span class="hljs-params">url</span>) </span>{
  <span class="hljs-built_in">window</span>.location.href = url
}</code></pre><p>&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x4FEE;&#x6539;&#x4E86;&#x5168;&#x5C40;&#x53D8;&#x91CF;location&#xFF0C;&#x751A;&#x81F3;&#x8FD8;&#x8BA9;&#x6D4F;&#x89C8;&#x5668;&#x53D1;&#x751F;&#x4E86;&#x8DF3;&#x8F6C;&#xFF0C;&#x8FD9;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x6709;&#x526F;&#x4F5C;&#x7528;&#x7684;&#x51FD;&#x6570;&#x3002;</p><p>&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x4E86;&#x89E3;&#x4E86;&#x526F;&#x4F5C;&#x7528;&#x4E86;&#xFF0C;&#x4F46;&#x662F;&#x7EC6;&#x60F3;&#x6765;&#xFF0C;&#x6211;&#x5199;&#x7684;&#x7EC4;&#x4EF6;&#x5E93;&#x4E5F;&#x6CA1;&#x6709;&#x4EC0;&#x4E48;&#x526F;&#x4F5C;&#x7528;&#x554A;&#xFF0C;&#x6211;&#x6BCF;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;&#x90FD;&#x662F;&#x4E00;&#x4E2A;&#x7C7B;&#xFF0C;&#x7B80;&#x5316;&#x4E00;&#x4E0B;&#xFF0C;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="// componetns.js
export class Person {
  constructor ({ name, age, sex }) {
    this.className = &apos;Person&apos;
    this.name = name
    this.age = age
    this.sex = sex
  }
  getName () {
    return this.name
  }
}
export class Apple {
  constructor ({ model }) {
    this.className = &apos;Apple&apos;
    this.model = model
  }
  getModel () {
    return this.model
  }
}" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="javascript hljs"><code class="javascript"><span class="hljs-comment">// componetns.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span> </span>{
  <span class="hljs-keyword">constructor</span> ({ name, age, sex }) {
    <span class="hljs-keyword">this</span>.className = <span class="hljs-string">&apos;Person&apos;</span>
    <span class="hljs-keyword">this</span>.name = name
    <span class="hljs-keyword">this</span>.age = age
    <span class="hljs-keyword">this</span>.sex = sex
  }
  getName () {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.name
  }
}
<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Apple</span> </span>{
  <span class="hljs-keyword">constructor</span> ({ model }) {
    <span class="hljs-keyword">this</span>.className = <span class="hljs-string">&apos;Apple&apos;</span>
    <span class="hljs-keyword">this</span>.model = model
  }
  getModel () {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.model
  }
}</code></pre><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="// main.js
import { Apple } from &apos;./components&apos;

const appleModel = new Apple({
  model: &apos;IphoneX&apos;
}).getModel()

console.log(appleModel)" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="javascript hljs"><code class="javascript"><span class="hljs-comment">// main.js</span>
<span class="hljs-keyword">import</span> { Apple } <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;./components&apos;</span>

<span class="hljs-keyword">const</span> appleModel = <span class="hljs-keyword">new</span> Apple({
  <span class="hljs-attr">model</span>: <span class="hljs-string">&apos;IphoneX&apos;</span>
}).getModel()

<span class="hljs-built_in">console</span>.log(appleModel)</code></pre><p>&#x7528;rollup&#x5728;&#x7EBF;repl&#x5C1D;&#x8BD5;&#x4E86;&#x4E0B;tree-shaking&#xFF0C;&#x4E5F;&#x786E;&#x5B9E;&#x5220;&#x6389;&#x4E86;Person&#xFF0C;<a href="https://rollupjs.cn/repl?version=0.53.3&amp;shareable=JTdCJTIybW9kdWxlcyUyMiUzQSU1QiU3QiUyMm5hbWUlMjIlM0ElMjJtYWluLmpzJTIyJTJDJTIyY29kZSUyMiUzQSUyMmltcG9ydCUyMCU3QiUyMEFwcGxlJTIwJTdEJTIwZnJvbSUyMCcuJTJGY29tcG9uZW50cyclNUNuJTVDbmNvbnN0JTIwYXBwbGVNb2RlbCUyMCUzRCUyMG5ldyUyMEFwcGxlKCU3QiU1Q24lMjAlMjBtb2RlbCUzQSUyMCdJcGhvbmVYJyU1Q24lN0QpLmdldE1vZGVsKCklNUNuJTVDbmNvbnNvbGUubG9nKGFwcGxlTW9kZWwpJTIyJTdEJTJDJTdCJTIybmFtZSUyMiUzQSUyMmNvbXBvbmVudHMuanMlMjIlMkMlMjJjb2RlJTIyJTNBJTIyZXhwb3J0JTIwY2xhc3MlMjBQZXJzb24lMjAlN0IlNUNuJTIwJTIwY29uc3RydWN0b3IlMjAoJTdCJTIwbmFtZSUyQyUyMGFnZSUyQyUyMHNleCUyMCU3RCklMjAlN0IlNUNuJTIwJTIwJTIwJTIwdGhpcy5jbGFzc05hbWUlMjAlM0QlMjAnUGVyc29uJyU1Q24lMjAlMjAlMjAlMjB0aGlzLm5hbWUlMjAlM0QlMjBuYW1lJTVDbiUyMCUyMCUyMCUyMHRoaXMuYWdlJTIwJTNEJTIwYWdlJTVDbiUyMCUyMCUyMCUyMHRoaXMuc2V4JTIwJTNEJTIwc2V4JTVDbiUyMCUyMCU3RCU1Q24lMjAlMjBnZXROYW1lJTIwKCklMjAlN0IlNUNuJTIwJTIwJTIwJTIwcmV0dXJuJTIwdGhpcy5uYW1lJTVDbiUyMCUyMCU3RCU1Q24lN0QlNUNuZXhwb3J0JTIwY2xhc3MlMjBBcHBsZSUyMCU3QiU1Q24lMjAlMjBjb25zdHJ1Y3RvciUyMCglN0IlMjBtb2RlbCUyMCU3RCklMjAlN0IlNUNuJTIwJTIwJTIwJTIwdGhpcy5jbGFzc05hbWUlMjAlM0QlMjAnQXBwbGUnJTVDbiUyMCUyMCUyMCUyMHRoaXMubW9kZWwlMjAlM0QlMjBtb2RlbCU1Q24lMjAlMjAlN0QlNUNuJTIwJTIwZ2V0TW9kZWwlMjAoKSUyMCU3QiU1Q24lMjAlMjAlMjAlMjByZXR1cm4lMjB0aGlzLm1vZGVsJTVDbiUyMCUyMCU3RCU1Q24lN0QlMjIlN0QlNUQlMkMlMjJvcHRpb25zJTIyJTNBJTdCJTIyZm9ybWF0JTIyJTNBJTIyZXMlMjIlMkMlMjJtb2R1bGVOYW1lJTIyJTNBJTIybXlCdW5kbGUlMjIlMkMlMjJnbG9iYWxzJTIyJTNBJTdCJTdEJTJDJTIybmFtZSUyMiUzQSUyMm15QnVuZGxlJTIyJTJDJTIyYW1kJTIyJTNBJTdCJTIyaWQlMjIlM0ElMjIlMjIlN0QlN0QlMkMlMjJleGFtcGxlJTIyJTNBbnVsbCU3RA==" rel="external nofollow noopener noreferrer" target="_blank">&#x4F20;&#x9001;&#x95E8;</a></p><p>&#x53EF;&#x662F;&#x4E3A;&#x4EC0;&#x4E48;&#x5F53;&#x6211;&#x901A;&#x8FC7;webpack&#x6253;&#x5305;&#x7EC4;&#x4EF6;&#x5E93;&#xFF0C;&#x518D;&#x88AB;&#x4ED6;&#x4EBA;&#x5F15;&#x5165;&#x65F6;&#xFF0C;&#x5374;&#x6CA1;&#x529E;&#x6CD5;&#x6D88;&#x9664;&#x672A;&#x4F7F;&#x7528;&#x4EE3;&#x7801;&#x5462;&#xFF1F;</p><p>&#x56E0;&#x4E3A;&#x6211;&#x5FFD;&#x7565;&#x4E86;&#x4E24;&#x4EF6;&#x4E8B;&#x60C5;&#xFF1A;babel&#x7F16;&#x8BD1; + webpack&#x6253;&#x5305;</p><h2 id="articleHeader2">&#x6210;&#x4E5F;Babel&#xFF0C;&#x8D25;&#x4E5F;Babel</h2><p>Babel&#x4E0D;&#x7528;&#x6211;&#x591A;&#x89E3;&#x91CA;&#x4E86;&#xFF0C;&#x5B83;&#x80FD;&#x628A;ES6/ES7&#x7684;&#x4EE3;&#x7801;&#x8F6C;&#x5316;&#x6210;&#x6307;&#x5B9A;&#x6D4F;&#x89C8;&#x5668;&#x80FD;&#x652F;&#x6301;&#x7684;&#x4EE3;&#x7801;&#x3002;&#x6B63;&#x662F;&#x7531;&#x4E8E;&#x5B83;&#xFF0C;&#x6211;&#x4EEC;&#x524D;&#x7AEF;&#x5F00;&#x53D1;&#x8005;&#x624D;&#x80FD;&#x6709;&#x4ECA;&#x5929;&#x8FD9;&#x6837;&#x7F8E;&#x597D;&#x7684;&#x5F00;&#x53D1;&#x73AF;&#x5883;&#xFF0C;&#x80FD;&#x591F;&#x4E0D;&#x7528;&#x8003;&#x8651;&#x6D4F;&#x89C8;&#x5668;&#x517C;&#x5BB9;&#x6027;&#x5730;&#x3001;&#x7545;&#x5FEB;&#x6DCB;&#x6F13;&#x5730;&#x4F7F;&#x7528;&#x6700;&#x65B0;&#x7684;JavaScript&#x8BED;&#x8A00;&#x7279;&#x6027;&#x3002;</p><p>&#x7136;&#x800C;&#x4E5F;&#x662F;&#x7531;&#x4E8E;&#x5B83;&#x7684;&#x7F16;&#x8BD1;&#xFF0C;&#x4E00;&#x4E9B;&#x6211;&#x4EEC;&#x539F;&#x672C;&#x770B;&#x4F3C;&#x6CA1;&#x6709;&#x526F;&#x4F5C;&#x7528;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x4FBF;&#x8F6C;&#x5316;&#x4E3A;&#x4E86;(&#x53EF;&#x80FD;)&#x6709;&#x526F;&#x4F5C;&#x7528;&#x7684;&#x3002;</p><p>&#x5982;&#x679C;&#x61D2;&#x5F97;&#x70B9;&#x5F00;&#x94FE;&#x63A5;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x4E0B;Person&#x7C7B;&#x88AB;babel&#x7F16;&#x8BD1;&#x540E;&#x7684;&#x7ED3;&#x679C;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(&quot;Cannot call a class as a function&quot;); } }

var _createClass = function() {
  function defineProperties(target, props) {
    for (var i = 0; i &lt; props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || !1, descriptor.configurable = !0,
      &quot;value&quot; in descriptor &amp;&amp; (descriptor.writable = !0), Object.defineProperty(target, descriptor.key, descriptor);
    }
  }
  return function(Constructor, protoProps, staticProps) {
    return protoProps &amp;&amp; defineProperties(Constructor.prototype, protoProps), staticProps &amp;&amp; defineProperties(Constructor, staticProps),
    Constructor;
  };
}()

var Person = function () {
  function Person(_ref) {
    var name = _ref.name, age = _ref.age, sex = _ref.sex;
    _classCallCheck(this, Person);

    this.className = &apos;Person&apos;;
    this.name = name;
    this.age = age;
    this.sex = sex;
  }

  _createClass(Person, [{
    key: &apos;getName&apos;,
    value: function getName() {
      return this.name;
    }
  }]);
  return Person;
}();" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="javascript hljs"><code class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_classCallCheck</span>(<span class="hljs-params">instance, Constructor</span>) </span>{ <span class="hljs-keyword">if</span> (!(instance <span class="hljs-keyword">instanceof</span> Constructor)) { <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">TypeError</span>(<span class="hljs-string">&quot;Cannot call a class as a function&quot;</span>); } }

<span class="hljs-keyword">var</span> _createClass = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">defineProperties</span>(<span class="hljs-params">target, props</span>) </span>{
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; props.length; i++) {
      <span class="hljs-keyword">var</span> descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || !<span class="hljs-number">1</span>, descriptor.configurable = !<span class="hljs-number">0</span>,
      <span class="hljs-string">&quot;value&quot;</span> <span class="hljs-keyword">in</span> descriptor &amp;&amp; (descriptor.writable = !<span class="hljs-number">0</span>), <span class="hljs-built_in">Object</span>.defineProperty(target, descriptor.key, descriptor);
    }
  }
  <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">Constructor, protoProps, staticProps</span>) </span>{
    <span class="hljs-keyword">return</span> protoProps &amp;&amp; defineProperties(Constructor.prototype, protoProps), staticProps &amp;&amp; defineProperties(Constructor, staticProps),
    Constructor;
  };
}()

<span class="hljs-keyword">var</span> Person = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Person</span>(<span class="hljs-params">_ref</span>) </span>{
    <span class="hljs-keyword">var</span> name = _ref.name, age = _ref.age, sex = _ref.sex;
    _classCallCheck(<span class="hljs-keyword">this</span>, Person);

    <span class="hljs-keyword">this</span>.className = <span class="hljs-string">&apos;Person&apos;</span>;
    <span class="hljs-keyword">this</span>.name = name;
    <span class="hljs-keyword">this</span>.age = age;
    <span class="hljs-keyword">this</span>.sex = sex;
  }

  _createClass(Person, [{
    <span class="hljs-attr">key</span>: <span class="hljs-string">&apos;getName&apos;</span>,
    <span class="hljs-attr">value</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getName</span>(<span class="hljs-params"></span>) </span>{
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.name;
    }
  }]);
  <span class="hljs-keyword">return</span> Person;
}();</code></pre><p>&#x6211;&#x4EEC;&#x7684;Person&#x7C7B;&#x88AB;&#x5C01;&#x88C5;&#x6210;&#x4E86;&#x4E00;&#x4E2A;IIFE(&#x7ACB;&#x5373;&#x6267;&#x884C;&#x51FD;&#x6570;)&#xFF0C;&#x7136;&#x540E;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x6784;&#x9020;&#x51FD;&#x6570;&#x3002;&#x90A3;&#x5B83;&#x600E;&#x4E48;&#x5C31;&#x4EA7;&#x751F;&#x526F;&#x4F5C;&#x7528;&#x4E86;&#x5462;&#xFF1F;&#x95EE;&#x9898;&#x5C31;&#x51FA;&#x73B0;&#x5728;_createClass&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x4E0A;&#xFF0C;&#x4F60;&#x53EA;&#x8981;&#x5728;&#x4E0A;&#x4E00;&#x4E2A;rollup&#x7684;repl&#x94FE;&#x63A5;&#x4E2D;&#xFF0C;&#x5C06;Person&#x7684;IIFE&#x4E2D;&#x7684;<code>_createClass</code>&#x8C03;&#x7528;&#x5220;&#x4E86;&#xFF0C;Person&#x7C7B;&#x5C31;&#x4F1A;&#x88AB;&#x79FB;&#x9664;&#x4E86;&#x3002;&#x81F3;&#x4E8E;<code>_createClass</code>&#x4E3A;&#x4EC0;&#x4E48;&#x4F1A;&#x4EA7;&#x751F;&#x526F;&#x4F5C;&#x7528;&#xFF0C;&#x6211;&#x4EEC;&#x5148;&#x653E;&#x4E00;&#x8FB9;&#x3002;&#x56E0;&#x4E3A;&#x5927;&#x5BB6;&#x53EF;&#x80FD;&#x4F1A;&#x4EA7;&#x751F;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x7591;&#x95EE;&#xFF1A;<strong>Babel&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x8FD9;&#x6837;&#x53BB;&#x58F0;&#x660E;&#x6784;&#x9020;&#x51FD;&#x6570;&#x7684;&#xFF1F;</strong></p><p>&#x5047;&#x5982;&#x662F;&#x6211;&#x7684;&#x8BDD;&#xFF0C;&#x6211;&#x53EF;&#x80FD;&#x4F1A;&#x8FD9;&#x6837;&#x53BB;&#x7F16;&#x8BD1;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="var Person = function () {
  function Person() {

  }
  Person.prototype.getName = function () { return this.name };
  return Person;
}();" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="javascript hljs"><code class="javascript"><span class="hljs-keyword">var</span> Person = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Person</span>(<span class="hljs-params"></span>) </span>{

  }
  Person.prototype.getName = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.name };
  <span class="hljs-keyword">return</span> Person;
}();</code></pre><p>&#x56E0;&#x4E3A;&#x6211;&#x4EEC;&#x4EE5;&#x524D;&#x5C31;&#x662F;&#x8FD9;&#x4E48;&#x5199;&#x201C;&#x7C7B;&#x201D;&#x7684;&#xFF0C;&#x90A3;babel&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x91C7;&#x7528;<code>Object.defineProperty</code>&#x8FD9;&#x6837;&#x7684;&#x5F62;&#x5F0F;&#x5462;&#xFF0C;&#x7528;&#x539F;&#x578B;&#x94FE;&#x6709;&#x4EC0;&#x4E48;&#x4E0D;&#x59A5;&#x5462;&#xFF1F;&#x81EA;&#x7136;&#x662F;&#x975E;&#x5E38;&#x7684;&#x4E0D;&#x59A5;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;ES6&#x7684;&#x4E00;&#x4E9B;&#x8BED;&#x6CD5;&#x662F;&#x6709;&#x5176;&#x7279;&#x5B9A;&#x7684;&#x8BED;&#x4E49;&#x7684;&#x3002;&#x6BD4;&#x5982;&#xFF1A;</p><ol><li>&#x7C7B;&#x5185;&#x90E8;&#x58F0;&#x660E;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x662F;&#x4E0D;&#x53EF;&#x679A;&#x4E3E;&#x7684;&#xFF0C;&#x800C;&#x901A;&#x8FC7;&#x539F;&#x578B;&#x94FE;&#x58F0;&#x660E;&#x7684;&#x65B9;&#x6CD5;&#x662F;&#x53EF;&#x4EE5;&#x679A;&#x4E3E;&#x7684;&#x3002;&#x8FD9;&#x91CC;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x4E0B;&#x962E;&#x8001;&#x5E08;&#x4ECB;&#x7ECD;<a href="http://es6.ruanyifeng.com/#docs/class" rel="external nofollow noopener noreferrer" target="_blank">Class &#x7684;&#x57FA;&#x672C;&#x8BED;&#x6CD5;</a></li><li><code>for...of</code>&#x7684;&#x5FAA;&#x73AF;&#x662F;&#x901A;&#x8FC7;&#x904D;&#x5386;&#x5668;(<code>Iterator</code>)&#x8FED;&#x4EE3;&#x7684;&#xFF0C;&#x5FAA;&#x73AF;&#x6570;&#x7EC4;&#x65F6;&#x5E76;&#x975E;&#x662F;i++&#xFF0C;&#x7136;&#x540E;&#x901A;&#x8FC7;&#x4E0B;&#x6807;&#x5BFB;&#x503C;&#x3002;&#x8FD9;&#x91CC;&#x4F9D;&#x65E7;&#x53EF;&#x4EE5;&#x770B;&#x4E0B;&#x962E;&#x8001;&#x5E08;&#x5173;&#x4E8E;&#x904D;&#x5386;&#x5668;&#x4E0E;for...of&#x7684;&#x4ECB;&#x7ECD;&#xFF0C;&#x4EE5;&#x53CA;&#x4E00;&#x7BC7;babel&#x5173;&#x4E8E;<code>for...of</code>&#x7F16;&#x8BD1;&#x7684;&#x8BF4;&#x660E;<a href="http://babeljs.io/docs/plugins/transform-es2015-for-of" rel="external nofollow noopener noreferrer" target="_blank">transform-es2015-for-of</a></li></ol><p>&#x6240;&#x4EE5;&#xFF0C;babel&#x4E3A;&#x4E86;&#x7B26;&#x5408;ES6&#x771F;&#x6B63;&#x7684;&#x8BED;&#x4E49;&#xFF0C;&#x7F16;&#x8BD1;&#x7C7B;&#x65F6;&#x91C7;&#x53D6;&#x4E86;<code>Object.defineProperty</code>&#x6765;&#x5B9A;&#x4E49;&#x539F;&#x578B;&#x65B9;&#x6CD5;&#xFF0C;&#x4E8E;&#x662F;&#x5BFC;&#x81F4;&#x4E86;&#x540E;&#x7EED;&#x8FD9;&#x4E9B;&#x4E00;&#x7CFB;&#x5217;&#x95EE;&#x9898;&#x3002;</p><p>&#x773C;&#x5C16;&#x7684;&#x540C;&#x5B66;&#x53EF;&#x80FD;&#x5728;&#x6211;&#x4E0A;&#x8FF0;&#x7B2C;&#x4E8C;&#x70B9;&#x4E2D;&#x53D1;&#x7684;&#x94FE;&#x63A5;<a href="http://babeljs.io/docs/plugins/transform-es2015-for-of" rel="external nofollow noopener noreferrer" target="_blank">transform-es2015-for-of</a>&#x4E2D;&#x770B;&#x5230;&#xFF0C;babel&#x5176;&#x5B9E;&#x662F;&#x6709;&#x4E00;&#x4E2A;<code>loose</code>&#x6A21;&#x5F0F;&#x7684;&#xFF0C;&#x76F4;&#x8BD1;&#x7684;&#x8BDD;&#x53EB;&#x505A;&#x5BBD;&#x677E;&#x6A21;&#x5F0F;&#x3002;&#x5B83;&#x662F;&#x505A;&#x4EC0;&#x4E48;&#x7528;&#x7684;&#x5462;&#xFF1F;&#x5B83;&#x4F1A;&#x4E0D;&#x4E25;&#x683C;&#x9075;&#x5FAA;ES6&#x7684;&#x8BED;&#x4E49;&#xFF0C;&#x800C;&#x91C7;&#x53D6;&#x66F4;&#x7B26;&#x5408;&#x6211;&#x4EEC;&#x5E73;&#x5E38;&#x7F16;&#x5199;&#x4EE3;&#x7801;&#x65F6;&#x7684;&#x4E60;&#x60EF;&#x53BB;&#x7F16;&#x8BD1;&#x4EE3;&#x7801;&#x3002;&#x6BD4;&#x5982;&#x4E0A;&#x8FF0;&#x7684;<code>Person</code>&#x7C7B;&#x7684;&#x5C5E;&#x6027;&#x65B9;&#x6CD5;&#x5C06;&#x4F1A;&#x7F16;&#x8BD1;&#x6210;&#x76F4;&#x63A5;&#x5728;&#x539F;&#x578B;&#x94FE;&#x4E0A;&#x58F0;&#x660E;&#x65B9;&#x6CD5;&#x3002;</p><p>&#x8FD9;&#x4E2A;&#x6A21;&#x5F0F;&#x5177;&#x4F53;&#x7684;babel&#x914D;&#x7F6E;&#x5982;&#x4E0B;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="// .babelrc
{
  &quot;presets&quot;: [[&quot;env&quot;, { &quot;loose&quot;: false }]]
}" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="javascript hljs"><code class="javascript"><span class="hljs-comment">// .babelrc</span>
{
  <span class="hljs-string">&quot;presets&quot;</span>: [[<span class="hljs-string">&quot;env&quot;</span>, { <span class="hljs-string">&quot;loose&quot;</span>: <span class="hljs-literal">false</span> }]]
}</code></pre><p>&#x540C;&#x6837;&#x7684;&#xFF0C;&#x6211;&#x653E;&#x4E2A;&#x5728;&#x7EBF;repl&#x793A;&#x4F8B;&#x65B9;&#x4FBF;&#x5927;&#x5BB6;&#x76F4;&#x63A5;&#x67E5;&#x770B;&#x6548;&#x679C;&#xFF1A;<a href="http://babeljs.io/repl/#?babili=false&amp;browsers=&amp;build=&amp;builtIns=false&amp;code_lz=KYDwDg9gTgLgBAE2AMwIYFcA28DGnUDOBcACsFARAHZwDeAUHHDtQTFOjjNHABS1wqqALbAANHFQBzcXAKg4AXwCUdRkzgwAFgEsCAOjyECAORHA4AXjgByMhWo31TbXv1DRVweeebdB6QtrQN9XA3kQLwj1RXUZGDNPXlUGDTgoYBh0KBow9x8mWNigA&amp;debug=false&amp;circleciRepo=&amp;evaluate=false&amp;fileSize=false&amp;lineWrap=true&amp;presets=es2015-loose&amp;prettier=false&amp;targets=&amp;version=6.26.0" rel="external nofollow noopener noreferrer" target="_blank">loose-mode</a></p><p>&#x54A6;&#xFF0C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x771F;&#x7684;&#x4E0D;&#x5173;&#x5FC3;&#x7C7B;&#x65B9;&#x6CD5;&#x80FD;&#x5426;&#x88AB;&#x679A;&#x4E3E;&#xFF0C;&#x5F00;&#x542F;&#x4E86;<code>loose</code>&#x6A21;&#x5F0F;&#xFF0C;&#x8FD9;&#x6837;&#x662F;&#x4E0D;&#x662F;&#x5C31;&#x6CA1;&#x6709;&#x526F;&#x4F5C;&#x7528;&#x4EA7;&#x751F;&#xFF0C;&#x5C31;&#x80FD;&#x5B8C;&#x7F8E;tree-shaking&#x7C7B;&#x4E86;&#x5462;&#xFF1F;</p><p>&#x6211;&#x4EEC;&#x5F00;&#x542F;&#x4E86;<code>loose</code>&#x6A21;&#x5F0F;&#xFF0C;&#x4F7F;&#x7528;rollup&#x6253;&#x5305;&#xFF0C;&#x53D1;&#x73B0;&#x8FD8;&#x771F;&#x662F;&#x5982;&#x6B64;&#xFF01;<a href="https://rollupjs.cn/repl?version=0.53.3&amp;shareable=JTdCJTIybW9kdWxlcyUyMiUzQSU1QiU3QiUyMm5hbWUlMjIlM0ElMjJtYWluLmpzJTIyJTJDJTIyY29kZSUyMiUzQSUyMmltcG9ydCUyMCU3QiUyMEFwcGxlJTIwJTdEJTIwZnJvbSUyMCcuJTJGY29tcG9uZW50cyclNUNuJTVDbmNvbnN0JTIwYXBwbGVNb2RlbCUyMCUzRCUyMG5ldyUyMEFwcGxlKCU3QiU1Q24lMjAlMjBtb2RlbCUzQSUyMCdJcGhvbmVYJyU1Q24lN0QpLmdldE1vZGVsKCklNUNuJTVDbmNvbnNvbGUubG9nKGFwcGxlTW9kZWwpJTIyJTdEJTJDJTdCJTIybmFtZSUyMiUzQSUyMmNvbXBvbmVudHMuanMlMjIlMkMlMjJjb2RlJTIyJTNBJTIyJ3VzZSUyMHN0cmljdCclM0IlNUNuJTVDbmZ1bmN0aW9uJTIwX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlJTJDJTIwQ29uc3RydWN0b3IpJTIwJTdCJTIwaWYlMjAoIShpbnN0YW5jZSUyMGluc3RhbmNlb2YlMjBDb25zdHJ1Y3RvcikpJTIwJTdCJTIwdGhyb3clMjBuZXclMjBUeXBlRXJyb3IoJTVDJTIyQ2Fubm90JTIwY2FsbCUyMGElMjBjbGFzcyUyMGFzJTIwYSUyMGZ1bmN0aW9uJTVDJTIyKSUzQiUyMCU3RCUyMCU3RCU1Q24lNUNudmFyJTIwUGVyc29uJTIwJTNEJTIwZnVuY3Rpb24lMjAoKSUyMCU3QiU1Q24lMjAlMjBmdW5jdGlvbiUyMFBlcnNvbihfcmVmKSUyMCU3QiU1Q24lMjAlMjAlMjAlMjB2YXIlMjBuYW1lJTIwJTNEJTIwX3JlZi5uYW1lJTJDJTVDbiUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMGFnZSUyMCUzRCUyMF9yZWYuYWdlJTJDJTVDbiUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMHNleCUyMCUzRCUyMF9yZWYuc2V4JTNCJTVDbiU1Q24lMjAlMjAlMjAlMjBfY2xhc3NDYWxsQ2hlY2sodGhpcyUyQyUyMFBlcnNvbiklM0IlNUNuJTVDbiUyMCUyMCUyMCUyMHRoaXMuY2xhc3NOYW1lJTIwJTNEJTIwJ1BlcnNvbiclM0IlNUNuJTIwJTIwJTIwJTIwdGhpcy5uYW1lJTIwJTNEJTIwbmFtZSUzQiU1Q24lMjAlMjAlMjAlMjB0aGlzLmFnZSUyMCUzRCUyMGFnZSUzQiU1Q24lMjAlMjAlMjAlMjB0aGlzLnNleCUyMCUzRCUyMHNleCUzQiU1Q24lMjAlMjAlN0QlNUNuJTVDbiUyMCUyMFBlcnNvbi5wcm90b3R5cGUuZ2V0TmFtZSUyMCUzRCUyMGZ1bmN0aW9uJTIwZ2V0TmFtZSgpJTIwJTdCJTVDbiUyMCUyMCUyMCUyMHJldHVybiUyMHRoaXMubmFtZSUzQiU1Q24lMjAlMjAlN0QlM0IlNUNuJTVDbiUyMCUyMHJldHVybiUyMFBlcnNvbiUzQiU1Q24lN0QoKSUzQiU1Q24lNUNudmFyJTIwQXBwbGUlMjAlM0QlMjBmdW5jdGlvbiUyMCgpJTIwJTdCJTVDbiUyMCUyMGZ1bmN0aW9uJTIwQXBwbGUoX3JlZjIpJTIwJTdCJTVDbiUyMCUyMCUyMCUyMHZhciUyMG1vZGVsJTIwJTNEJTIwX3JlZjIubW9kZWwlM0IlNUNuJTVDbiUyMCUyMCUyMCUyMF9jbGFzc0NhbGxDaGVjayh0aGlzJTJDJTIwQXBwbGUpJTNCJTVDbiU1Q24lMjAlMjAlMjAlMjB0aGlzLmNsYXNzTmFtZSUyMCUzRCUyMCdBcHBsZSclM0IlNUNuJTIwJTIwJTIwJTIwdGhpcy5tb2RlbCUyMCUzRCUyMG1vZGVsJTNCJTVDbiUyMCUyMCU3RCU1Q24lNUNuJTIwJTIwQXBwbGUucHJvdG90eXBlLmdldE1vZGVsJTIwJTNEJTIwZnVuY3Rpb24lMjBnZXRNb2RlbCgpJTIwJTdCJTVDbiUyMCUyMCUyMCUyMHJldHVybiUyMHRoaXMubW9kZWwlM0IlNUNuJTIwJTIwJTdEJTNCJTVDbiU1Q24lMjAlMjByZXR1cm4lMjBBcHBsZSUzQiU1Q24lN0QoKSUzQiU1Q24lNUNuZXhwb3J0JTIwJTdCJTIwUGVyc29uJTJDJTIwQXBwbGUlMjAlN0QlM0IlNUNuJTIyJTdEJTVEJTJDJTIyb3B0aW9ucyUyMiUzQSU3QiUyMmZvcm1hdCUyMiUzQSUyMmVzJTIyJTJDJTIybW9kdWxlTmFtZSUyMiUzQSUyMm15QnVuZGxlJTIyJTJDJTIyZ2xvYmFscyUyMiUzQSU3QiU3RCUyQyUyMm5hbWUlMjIlM0ElMjJteUJ1bmRsZSUyMiUyQyUyMmFtZCUyMiUzQSU3QiUyMmlkJTIyJTNBJTIyJTIyJTdEJTdEJTJDJTIyZXhhbXBsZSUyMiUzQW51bGwlN0Q=" rel="external nofollow noopener noreferrer" target="_blank">&#x4F20;&#x9001;&#x95E8;</a></p><h2 id="articleHeader3">&#x4E0D;&#x591F;&#x5C4C;&#x7684;UglifyJS</h2><p>&#x7136;&#x800C;&#x4E0D;&#x8981;&#x5F00;&#x5FC3;&#x7684;&#x592A;&#x65E9;&#xFF0C;&#x5F53;&#x6211;&#x4EEC;&#x7528;Webpack&#x914D;&#x5408;UglifyJS&#x6253;&#x5305;&#x6587;&#x4EF6;&#x65F6;&#xFF0C;&#x8FD9;&#x4E2A;Person&#x7C7B;&#x7684;IIFE&#x53C8;&#x88AB;&#x6253;&#x5305;&#x8FDB;&#x53BB;&#x4E86;&#xFF1F; What&#xFF1F;&#xFF1F;&#xFF1F;</p><p>&#x4E3A;&#x4E86;&#x5F7B;&#x5E95;&#x641E;&#x660E;&#x767D;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x6211;&#x641C;&#x5230;&#x4E00;&#x6761;UglifyJS&#x7684;issue&#xFF1A;<a href="https://github.com/mishoo/UglifyJS2/issues/1261" rel="external nofollow noopener noreferrer" target="_blank">Class declaration in IIFE considered as side effect</a>&#xFF0C;&#x4ED4;&#x7EC6;&#x770B;&#x4E86;&#x597D;&#x4E45;&#x3002;&#x5BF9;&#x6B64;&#x6709;&#x5174;&#x8DA3;&#x3001;&#x5E76;&#x4E14;&#x82F1;&#x8BED;&#x8FD8;ok&#x7684;&#x540C;&#x5B66;&#xFF0C;&#x53EF;&#x4EE5;&#x5FEB;&#x901F;&#x53BB;&#x4E86;&#x89E3;&#x8FD9;&#x6761;issue&#xFF0C;&#x8FD8;&#x662F;&#x633A;&#x6709;&#x610F;&#x601D;&#x7684;&#x3002;&#x6211;&#x5927;&#x81F4;&#x9610;&#x8FF0;&#x4E0B;&#x8FD9;&#x6761;issue&#x4E0B;&#x90FD;&#x8BF4;&#x4E86;&#x4E9B;&#x5565;&#x3002;</p><blockquote>issue&#x697C;&#x4E3B;-<a href="https://github.com/blacksonic" rel="external nofollow noopener noreferrer" target="_blank">blacksonic</a> &#x597D;&#x5947;&#x4E3A;&#x4EC0;&#x4E48;UglifyJS&#x4E0D;&#x80FD;&#x6D88;&#x9664;&#x672A;&#x5F15;&#x7528;&#x7684;&#x7C7B;&#x3002;<p>UglifyJS&#x8D21;&#x732E;&#x8005;-<a href="https://github.com/kzc" rel="external nofollow noopener noreferrer" target="_blank">kzc</a>&#x8BF4;&#xFF0C;uglify&#x4E0D;&#x8FDB;&#x884C;&#x7A0B;&#x5E8F;&#x6D41;&#x5206;&#x6790;&#xFF0C;&#x6240;&#x4EE5;&#x4E0D;&#x80FD;&#x6392;&#x9664;&#x6709;&#x53EF;&#x80FD;&#x6709;&#x526F;&#x4F5C;&#x7528;&#x7684;&#x4EE3;&#x7801;&#x3002;</p><p>&#x697C;&#x4E3B;&#xFF1A;&#x6211;&#x7684;&#x4EE3;&#x7801;&#x6CA1;&#x4EC0;&#x4E48;&#x526F;&#x4F5C;&#x7528;&#x554A;&#x3002;&#x8981;&#x4E0D;&#x4F60;&#x4EEC;&#x6765;&#x4E2A;&#x914D;&#x7F6E;&#x9879;&#xFF0C;&#x8BBE;&#x7F6E;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x8BA4;&#x4E3A;&#x5B83;&#x662F;&#x6CA1;&#x6709;&#x526F;&#x4F5C;&#x7528;&#x7684;&#xFF0C;&#x7136;&#x540E;&#x653E;&#x5FC3;&#x7684;&#x5220;&#x4E86;&#x5B83;&#x4EEC;&#x5427;&#x3002;</p><p>&#x8D21;&#x732E;&#x8005;&#xFF1A;&#x6211;&#x4EEC;&#x6CA1;&#x6709;&#x7A0B;&#x5E8F;&#x6D41;&#x5206;&#x6790;&#xFF0C;&#x6211;&#x4EEC;&#x5E72;&#x4E0D;&#x4E86;&#x8FD9;&#x4E8B;&#x513F;&#xFF0C;&#x5B9E;&#x5728;&#x60F3;&#x5220;&#x9664;&#x4ED6;&#x4EEC;&#xFF0C;&#x51FA;&#x95E8;&#x5DE6;&#x8F6C; rollup &#x543C;&#x5427;&#xFF0C;&#x4ED6;&#x4EEC;&#x5C4C;&#xFF0C;&#x505A;&#x4E86;&#x7A0B;&#x5E8F;&#x6D41;&#x5206;&#x6790;&#xFF0C;&#x80FD;&#x5224;&#x65AD;&#x5230;&#x5E95;&#x6709;&#x6CA1;&#x6709;&#x526F;&#x4F5C;&#x7528;&#x3002;</p><p>&#x697C;&#x4E3B;&#xFF1A;&#x8FC1;&#x79FB;rollup&#x6210;&#x672C;&#x6709;&#x70B9;&#x9AD8;&#x554A;&#x3002;&#x6211;&#x89C9;&#x5F97;&#x52A0;&#x4E2A;&#x914D;&#x7F6E;&#x4E0D;&#x96BE;&#x554A;&#xFF0C;&#x6BD4;&#x5982;&#x8FD9;&#x6837;&#x8FD9;&#x6837;&#xFF0C;&#x5DF4;&#x62C9;&#x5DF4;&#x62C9;&#x3002;</p><p>&#x8D21;&#x732E;&#x8005;&#xFF1A;&#x6B22;&#x8FCE;&#x63D0;PR&#x3002;</p><p>&#x697C;&#x4E3B;&#xFF1A;&#x522B;&#x561B;&#xFF0C;&#x4F60;&#x4EEC;&#x9879;&#x76EE;&#x4E0A;&#x5343;&#x884C;&#x4EE3;&#x7801;&#xFF0C;&#x6211;&#x548B;&#x63D0;PR&#x554A;&#x3002;&#x6211;&#x7684;&#x4EE3;&#x7801;&#x4E5F;&#x6CA1;&#x5565;&#x526F;&#x4F5C;&#x7528;&#x554A;&#xFF0C;&#x60A8;&#x80FD;&#x8BE6;&#x7EC6;&#x7684;&#x8BF4;&#x660E;&#x4E0B;&#x4E48;&#xFF1F;</p><p>&#x8D21;&#x732E;&#x8005;&#xFF1A;&#x53D8;&#x91CF;&#x8D4B;&#x503C;&#x5C31;&#x662F;&#x6709;&#x53EF;&#x80FD;&#x4EA7;&#x751F;&#x526F;&#x4F5C;&#x7528;&#x7684;&#xFF01;&#x6211;&#x4E3E;&#x4E2A;&#x4F8B;&#x5B50;&#xFF1A;</p></blockquote><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="var V8Engine = (function () {
  function V8Engine () {}
  V8Engine.prototype.toString = function () { return &apos;V8&apos; }
  return V8Engine
}())
var V6Engine = (function () {
  function V6Engine () {}
  V6Engine.prototype = V8Engine.prototype // &lt;---- side effect
  V6Engine.prototype.toString = function () { return &apos;V6&apos; }
  return V6Engine
}())
console.log(new V8Engine().toString())" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="javascript hljs"><code class="javascript"><span class="hljs-keyword">var</span> V8Engine = (<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">V8Engine</span> (<span class="hljs-params"></span>) </span>{}
  V8Engine.prototype.toString = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-string">&apos;V8&apos;</span> }
  <span class="hljs-keyword">return</span> V8Engine
}())
<span class="hljs-keyword">var</span> V6Engine = (<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">V6Engine</span> (<span class="hljs-params"></span>) </span>{}
  V6Engine.prototype = V8Engine.prototype <span class="hljs-comment">// &lt;---- side effect</span>
  V6Engine.prototype.toString = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-string">&apos;V6&apos;</span> }
  <span class="hljs-keyword">return</span> V6Engine
}())
<span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">new</span> V8Engine().toString())</code></pre><blockquote>&#x8D21;&#x732E;&#x8005;&#xFF1A;<code>V6Engine</code>&#x867D;&#x7136;&#x6CA1;&#x6709;&#x88AB;&#x4F7F;&#x7528;&#xFF0C;&#x4F46;&#x662F;&#x5B83;&#x4FEE;&#x6539;&#x4E86;V8Engine&#x539F;&#x578B;&#x94FE;&#x4E0A;&#x7684;&#x5C5E;&#x6027;&#xFF0C;&#x8FD9;&#x5C31;&#x4EA7;&#x751F;&#x526F;&#x4F5C;&#x7528;&#x4E86;&#x3002;&#x4F60;&#x770B;<code>rollup</code>&#xFF08;&#x697C;&#x4E3B;&#x7279;&#x610F;&#x6CE8;&#x660E;&#x622A;&#x81F3;&#x5F53;&#x65F6;&#xFF09;&#x76EE;&#x524D;&#x5C31;&#x662F;&#x8FD9;&#x6837;&#x7684;&#x7B56;&#x7565;&#xFF0C;&#x76F4;&#x63A5;&#x628A;V6Engine &#x7ED9;&#x5220;&#x4E86;&#xFF0C;&#x5176;&#x5B9E;&#x662F;&#x4E0D;&#x5BF9;&#x7684;&#x3002;<p>&#x697C;&#x4E3B;&#x4EE5;&#x53CA;&#x4E00;&#x4E9B;&#x8DEF;&#x4EBA;&#x7532;&#x4E59;&#x4E19;&#x4E01;&#xFF0C;&#x7EB7;&#x7EB7;&#x63D0;&#x51FA;&#x81EA;&#x5DF1;&#x7684;&#x5EFA;&#x8BAE;&#x4E0E;&#x65B9;&#x6848;&#x3002;&#x6700;&#x7EC8;&#x5B9A;&#x4E0B;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x4EE3;&#x7801;&#x4E0A;&#x901A;&#x8FC7;<code>/*@__PURE__*/</code>&#x8FD9;&#x6837;&#x7684;&#x6CE8;&#x91CA;&#x58F0;&#x660E;&#x6B64;&#x51FD;&#x6570;&#x65E0;&#x526F;&#x4F5C;&#x7528;&#x3002;</p></blockquote><p>&#x8FD9;&#x4E2A;issue&#x4FE1;&#x606F;&#x91CF;&#x6BD4;&#x8F83;&#x5927;&#xFF0C;&#x4E5F;&#x633A;&#x6709;&#x610F;&#x601D;&#xFF0C;&#x5176;&#x4E2D;&#x90A3;&#x4F4D;uglify&#x8D21;&#x732E;&#x8005;kzc&#xFF0C;&#x5F53;&#x65F6;&#x63D0;&#x51FA;rollup&#x5B58;&#x5728;&#x7684;&#x95EE;&#x9898;&#x540E;&#x8FD8;&#x7ED9;rollup&#x63D0;&#x4E86;issue&#xFF0C;rollup&#x8BA4;&#x4E3A;&#x95EE;&#x9898;&#x4E0D;&#x5927;&#x4E0D;&#x7D27;&#x6025;&#xFF0C;&#x8FD9;&#x4F4D;&#x8D21;&#x732E;&#x8005;&#x8FD8;&#x987A;&#x624B;&#x7ED9;rollup&#x63D0;&#x4E86;&#x4E2A;PR&#xFF0C;&#x89E3;&#x51B3;&#x4E86;&#x95EE;&#x9898;&#x3002;&#x3002;&#x3002;</p><p>&#x6211;&#x518D;&#x4ECE;&#x8FD9;&#x4E2A;issue&#x4E2D;&#x603B;&#x7ED3;&#x4E0B;&#x51E0;&#x70B9;&#x5173;&#x952E;&#x4FE1;&#x606F;&#xFF1A;</p><ol><li>&#x51FD;&#x6570;&#x7684;&#x53C2;&#x6570;&#x82E5;&#x662F;&#x5F15;&#x7528;&#x7C7B;&#x578B;&#xFF0C;&#x5BF9;&#x4E8E;&#x5B83;&#x5C5E;&#x6027;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x90FD;&#x662F;&#x6709;&#x53EF;&#x80FD;&#x4F1A;&#x4EA7;&#x751F;&#x526F;&#x4F5C;&#x7528;&#x7684;&#x3002;&#x56E0;&#x4E3A;&#x9996;&#x5148;&#x5B83;&#x662F;&#x5F15;&#x7528;&#x7C7B;&#x578B;&#xFF0C;&#x5BF9;&#x5B83;&#x5C5E;&#x6027;&#x7684;&#x4EFB;&#x4F55;&#x4FEE;&#x6539;&#x5176;&#x5B9E;&#x90FD;&#x662F;&#x6539;&#x53D8;&#x4E86;&#x51FD;&#x6570;&#x5916;&#x90E8;&#x7684;&#x6570;&#x636E;&#x3002;&#x5176;&#x6B21;&#x83B7;&#x53D6;&#x6216;&#x4FEE;&#x6539;&#x5B83;&#x7684;&#x5C5E;&#x6027;&#xFF0C;&#x4F1A;&#x89E6;&#x53D1;<code>getter</code>&#x6216;&#x8005;<code>setter</code>&#xFF0C;&#x800C;<code>getter</code>&#x3001;<code>setter</code>&#x662F;&#x4E0D;&#x900F;&#x660E;&#x7684;&#xFF0C;&#x6709;&#x53EF;&#x80FD;&#x4F1A;&#x4EA7;&#x751F;&#x526F;&#x4F5C;&#x7528;&#x3002;</li><li>uglify&#x6CA1;&#x6709;&#x5B8C;&#x5584;&#x7684;&#x7A0B;&#x5E8F;&#x6D41;&#x5206;&#x6790;&#x3002;&#x5B83;&#x53EF;&#x4EE5;&#x7B80;&#x5355;&#x7684;&#x5224;&#x65AD;&#x53D8;&#x91CF;&#x540E;&#x7EED;&#x662F;&#x5426;&#x88AB;&#x5F15;&#x7528;&#x3001;&#x4FEE;&#x6539;&#xFF0C;&#x4F46;&#x662F;&#x4E0D;&#x80FD;&#x5224;&#x65AD;&#x4E00;&#x4E2A;&#x53D8;&#x91CF;&#x5B8C;&#x6574;&#x7684;&#x4FEE;&#x6539;&#x8FC7;&#x7A0B;&#xFF0C;&#x4E0D;&#x77E5;&#x9053;&#x5B83;&#x662F;&#x5426;&#x5DF2;&#x7ECF;&#x6307;&#x5411;&#x4E86;&#x5916;&#x90E8;&#x53D8;&#x91CF;&#xFF0C;&#x6240;&#x4EE5;&#x5F88;&#x591A;&#x6709;&#x53EF;&#x80FD;&#x4F1A;&#x4EA7;&#x751F;&#x526F;&#x4F5C;&#x7528;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x90FD;&#x53EA;&#x80FD;&#x4FDD;&#x5B88;&#x7684;&#x4E0D;&#x5220;&#x9664;&#x3002;</li><li>rollup&#x6709;&#x7A0B;&#x5E8F;&#x6D41;&#x5206;&#x6790;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x53EF;&#x4EE5;&#x66F4;&#x597D;&#x7684;&#x5224;&#x65AD;&#x4EE3;&#x7801;&#x662F;&#x5426;&#x771F;&#x6B63;&#x4F1A;&#x4EA7;&#x751F;&#x526F;&#x4F5C;&#x7528;&#x3002;</li></ol><p>&#x6709;&#x7684;&#x540C;&#x5B66;&#x53EF;&#x80FD;&#x4F1A;&#x60F3;&#xFF0C;&#x8FDE;&#x83B7;&#x53D6;&#x5BF9;&#x8C61;&#x7684;&#x5C5E;&#x6027;&#x4E5F;&#x4F1A;&#x4EA7;&#x751F;&#x526F;&#x4F5C;&#x7528;&#x5BFC;&#x81F4;&#x4E0D;&#x80FD;&#x5220;&#x9664;&#x4EE3;&#x7801;&#xFF0C;&#x8FD9;&#x4E5F;&#x592A;&#x8FC7;&#x5206;&#x4E86;&#x5427;&#xFF01;&#x4E8B;&#x5B9E;&#x8FD8;&#x771F;&#x662F;&#x5982;&#x6B64;&#xFF0C;&#x6211;&#x518D;&#x8D34;&#x4E2A;&#x793A;&#x4F8B;&#x6F14;&#x793A;&#x4E00;&#x4E0B;&#xFF1A;<a href="https://rollupjs.cn/repl?version=0.53.3&amp;shareable=JTdCJTIybW9kdWxlcyUyMiUzQSU1QiU3QiUyMm5hbWUlMjIlM0ElMjJtYWluLmpzJTIyJTJDJTIyY29kZSUyMiUzQSUyMmltcG9ydCUyMCU3QiUyMGN1YmUlMjAlN0QlMjBmcm9tJTIwJy4lMkZtYXRocy5qcyclM0IlNUNuY29uc29sZS5sb2coJTIwY3ViZSglMjA1JTIwKSUyMCklM0IlMjAlMkYlMkYlMjAxMjUlMjIlN0QlMkMlN0IlMjJuYW1lJTIyJTNBJTIybWF0aHMuanMlMjIlMkMlMjJjb2RlJTIyJTNBJTIyZXhwb3J0JTIwZnVuY3Rpb24lMjBzcXVhcmUlMjAoJTIweCUyMCklMjAlN0IlNUNuJTVDdHJldHVybiUyMHguYSU1Q24lN0QlNUNuJTVDbnNxdWFyZSglN0IlMjBhJTNBJTIwMTIzJTIwJTdEKSU1Q24lNUNuZXhwb3J0JTIwZnVuY3Rpb24lMjBjdWJlJTIwKCUyMHglMjApJTIwJTdCJTVDbiU1Q3RyZXR1cm4lMjB4JTIwKiUyMHglMjAqJTIweCUzQiU1Q24lN0QlMjIlN0QlNUQlMkMlMjJvcHRpb25zJTIyJTNBJTdCJTIyZm9ybWF0JTIyJTNBJTIyZXMlMjIlMkMlMjJtb2R1bGVOYW1lJTIyJTNBJTIybXlCdW5kbGUlMjIlMkMlMjJnbG9iYWxzJTIyJTNBJTdCJTdEJTJDJTIybmFtZSUyMiUzQSUyMm15QnVuZGxlJTIyJTJDJTIyYW1kJTIyJTNBJTdCJTIyaWQlMjIlM0ElMjIlMjIlN0QlN0QlMkMlMjJleGFtcGxlJTIyJTNBbnVsbCU3RA==" rel="external nofollow noopener noreferrer" target="_blank">&#x4F20;&#x9001;&#x95E8;</a></p><p>&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="// maths.js
export function square ( x ) {
    return x.a
}
square({ a: 123 })

export function cube ( x ) {
    return x * x * x;
}" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="javascript hljs"><code class="javascript"><span class="hljs-comment">// maths.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">square</span> (<span class="hljs-params"> x </span>) </span>{
    <span class="hljs-keyword">return</span> x.a
}
square({ <span class="hljs-attr">a</span>: <span class="hljs-number">123</span> })

<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">cube</span> (<span class="hljs-params"> x </span>) </span>{
    <span class="hljs-keyword">return</span> x * x * x;
}</code></pre><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="//main.js
import { cube } from &apos;./maths.js&apos;;
console.log( cube( 5 ) ); // 125
" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="javascript hljs"><code class="javascript"><span class="hljs-comment">//main.js</span>
<span class="hljs-keyword">import</span> { cube } <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;./maths.js&apos;</span>;
<span class="hljs-built_in">console</span>.log( cube( <span class="hljs-number">5</span> ) ); <span class="hljs-comment">// 125</span>
</code></pre><p>&#x6253;&#x5305;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="function square ( x ) {
  return x.a
}
square({ a: 123 });

function cube ( x ) {
    return x * x * x;
}
console.log( cube( 5 ) ); // 125" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="javascript hljs"><code class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">square</span> (<span class="hljs-params"> x </span>) </span>{
  <span class="hljs-keyword">return</span> x.a
}
square({ <span class="hljs-attr">a</span>: <span class="hljs-number">123</span> });

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">cube</span> (<span class="hljs-params"> x </span>) </span>{
    <span class="hljs-keyword">return</span> x * x * x;
}
<span class="hljs-built_in">console</span>.log( cube( <span class="hljs-number">5</span> ) ); <span class="hljs-comment">// 125</span></code></pre><p>&#x800C;&#x5982;&#x679C;&#x5C06;<code>square</code>&#x65B9;&#x6CD5;&#x4E2D;&#x7684;<code>return x.a</code> &#x6539;&#x4E3A; <code>return x</code>&#xFF0C;&#x5219;&#x6700;&#x7EC8;&#x6253;&#x5305;&#x7684;&#x7ED3;&#x679C;&#x5219;&#x4E0D;&#x4F1A;&#x51FA;&#x73B0;<code>square</code>&#x65B9;&#x6CD5;&#x3002;&#x5F53;&#x7136;&#x5566;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x5728;<code>maths.js</code>&#x6587;&#x4EF6;&#x4E2D;&#x6267;&#x884C;&#x8FD9;&#x4E2A;<code>square</code>&#x65B9;&#x6CD5;&#xFF0C;&#x81EA;&#x7136;&#x4E5F;&#x662F;&#x4E0D;&#x4F1A;&#x5728;&#x6253;&#x5305;&#x6587;&#x4EF6;&#x4E2D;&#x51FA;&#x73B0;&#x5B83;&#x7684;&#x3002;</p><p>&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x73B0;&#x5728;&#x7406;&#x89E3;&#x4E86;&#xFF0C;&#x5F53;&#x65F6;babel&#x7F16;&#x8BD1;&#x6210;&#x7684;<code>_createClass</code>&#x65B9;&#x6CD5;&#x4E3A;&#x4EC0;&#x4E48;&#x4F1A;&#x6709;&#x526F;&#x4F5C;&#x7528;&#x3002;&#x73B0;&#x5728;&#x518D;&#x56DE;&#x5934;&#x4E00;&#x770B;&#xFF0C;&#x5B83;&#x7B80;&#x76F4;&#x6D51;&#x8EAB;&#x4E0A;&#x4E0B;&#x90FD;&#x662F;&#x526F;&#x4F5C;&#x7528;&#x3002;</p><p>&#x67E5;&#x770B;uglify&#x7684;&#x5177;&#x4F53;&#x914D;&#x7F6E;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x77E5;&#x9053;&#xFF0C;&#x76EE;&#x524D;uglify&#x53EF;&#x4EE5;&#x914D;&#x7F6E;<code>pure_getters: true</code>&#x6765;&#x5F3A;&#x5236;&#x8BA4;&#x4E3A;&#x83B7;&#x53D6;&#x5BF9;&#x8C61;&#x5C5E;&#x6027;&#xFF0C;&#x662F;&#x6CA1;&#x6709;&#x526F;&#x4F5C;&#x7528;&#x7684;&#x3002;&#x8FD9;&#x6837;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5B83;&#x5220;&#x9664;&#x4E0A;&#x8FF0;&#x793A;&#x4F8B;&#x4E2D;&#x7684;<code>square</code>&#x65B9;&#x6CD5;&#x3002;&#x4E0D;&#x8FC7;&#x7531;&#x4E8E;&#x6CA1;&#x6709;<code>pure_setters</code>&#x8FD9;&#x6837;&#x7684;&#x914D;&#x7F6E;&#xFF0C;<code>_createClass</code>&#x65B9;&#x6CD5;&#x4F9D;&#x65E7;&#x88AB;&#x8BA4;&#x4E3A;&#x662F;&#x6709;&#x526F;&#x4F5C;&#x7528;&#x7684;&#xFF0C;&#x65E0;&#x6CD5;&#x5220;&#x9664;&#x3002;</p><h2 id="articleHeader4">&#x90A3;&#x5230;&#x5E95;&#x8BE5;&#x600E;&#x4E48;&#x529E;&#xFF1F;</h2><p>&#x806A;&#x660E;&#x7684;&#x540C;&#x5B66;&#x80AF;&#x5B9A;&#x4F1A;&#x60F3;&#xFF0C;&#x65E2;&#x7136;babel&#x7F16;&#x8BD1;&#x5BFC;&#x81F4;&#x6211;&#x4EEC;&#x4EA7;&#x751F;&#x4E86;&#x526F;&#x4F5C;&#x7528;&#x4EE3;&#x7801;&#xFF0C;&#x90A3;&#x6211;&#x4EEC;&#x5148;&#x8FDB;&#x884C;tree-shaking&#x6253;&#x5305;&#xFF0C;&#x6700;&#x540E;&#x518D;&#x7F16;&#x8BD1;bundle&#x6587;&#x4EF6;&#x4E0D;&#x5C31;&#x597D;&#x4E86;&#x561B;&#x3002;&#x8FD9;&#x786E;&#x5B9E;&#x662F;&#x4E00;&#x4E2A;&#x65B9;&#x6848;&#xFF0C;&#x7136;&#x800C;&#x53EF;&#x60DC;&#x7684;&#x662F;&#xFF1A;&#x8FD9;&#x5728;&#x5904;&#x7406;&#x9879;&#x76EE;&#x81EA;&#x8EAB;&#x8D44;&#x6E90;&#x4EE3;&#x7801;&#x65F6;&#x662F;&#x53EF;&#x884C;&#x7684;&#xFF0C;&#x5904;&#x7406;&#x5916;&#x90E8;&#x4F9D;&#x8D56;npm&#x5305;&#x5C31;&#x4E0D;&#x884C;&#x4E86;&#x3002;&#x56E0;&#x4E3A;&#x4EBA;&#x5BB6;&#x4E3A;&#x4E86;&#x8BA9;&#x5DE5;&#x5177;&#x5305;&#x5177;&#x6709;&#x901A;&#x7528;&#x6027;&#x3001;&#x517C;&#x5BB9;&#x6027;&#xFF0C;&#x5927;&#x591A;&#x662F;&#x7ECF;&#x8FC7;babel&#x7F16;&#x8BD1;&#x7684;&#x3002;&#x800C;&#x6700;&#x5360;&#x5BB9;&#x91CF;&#x7684;&#x5730;&#x65B9;&#x5F80;&#x5F80;&#x5C31;&#x662F;&#x8FD9;&#x4E9B;&#x5916;&#x90E8;&#x4F9D;&#x8D56;&#x5305;&#x3002;</p><p>&#x90A3;&#x5148;&#x4ECE;&#x6839;&#x6E90;&#x4E0A;&#x8BA8;&#x8BBA;&#xFF0C;&#x5047;&#x5982;&#x6211;&#x4EEC;&#x73B0;&#x5728;&#x8981;&#x5F00;&#x53D1;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;&#x5E93;&#x63D0;&#x4F9B;&#x7ED9;&#x522B;&#x4EBA;&#x7528;&#xFF0C;&#x8BE5;&#x600E;&#x4E48;&#x505A;&#xFF1F;</p><h3 id="articleHeader5">&#x5982;&#x679C;&#x662F;&#x4F7F;&#x7528;webpack&#x6253;&#x5305;JavaScript&#x5E93;</h3><p>&#x5148;&#x8D34;&#x4E0B;webpack&#x5C06;&#x9879;&#x76EE;&#x6253;&#x5305;&#x4E3A;JS&#x5E93;&#x7684;<a href="https://doc.webpack-china.org/guides/author-libraries" rel="external nofollow noopener noreferrer" target="_blank">&#x6587;&#x6863;</a>&#x3002;&#x53EF;&#x4EE5;&#x770B;&#x5230;webpack&#x6709;&#x591A;&#x79CD;&#x5BFC;&#x51FA;&#x6A21;&#x5F0F;&#xFF0C;&#x4E00;&#x822C;&#x5927;&#x5BB6;&#x90FD;&#x4F1A;&#x9009;&#x62E9;&#x6700;&#x5177;&#x901A;&#x7528;&#x6027;&#x7684;<code>umd</code>&#x65B9;&#x5F0F;&#xFF0C;&#x4F46;&#x662F;webpack&#x5374;&#x6CA1;&#x652F;&#x6301;&#x5BFC;&#x51FA;ES&#x6A21;&#x5757;&#x7684;&#x6A21;&#x5F0F;&#x3002;</p><p><strong>&#x6240;&#x4EE5;&#xFF0C;&#x5047;&#x5982;&#x4F60;&#x628A;&#x6240;&#x6709;&#x7684;&#x8D44;&#x6E90;&#x6587;&#x4EF6;&#x901A;&#x8FC7;webpack&#x6253;&#x5305;&#x5230;&#x4E00;&#x4E2A;bundle&#x6587;&#x4EF6;&#x91CC;&#x7684;&#x8BDD;&#xFF0C;&#x90A3;&#x8FD9;&#x4E2A;&#x5E93;&#x6587;&#x4EF6;&#x4ECE;&#x6B64;&#x4E0E;Tree-shaking&#x65E0;&#x7F18;&#x3002;</strong></p><p>&#x90A3;&#x600E;&#x4E48;&#x529E;&#x5462;&#xFF1F;&#x4E5F;&#x4E0D;&#x662F;&#x6CA1;&#x6709;&#x529E;&#x6CD5;&#x3002;&#x76EE;&#x524D;&#x4E1A;&#x754C;&#x6D41;&#x884C;&#x7684;&#x7EC4;&#x4EF6;&#x5E93;&#x591A;&#x662F;&#x5C06;&#x6BCF;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;&#x6216;&#x8005;&#x529F;&#x80FD;&#x51FD;&#x6570;&#xFF0C;&#x90FD;&#x6253;&#x5305;&#x6210;&#x5355;&#x72EC;&#x7684;&#x6587;&#x4EF6;&#x6216;&#x76EE;&#x5F55;&#x3002;&#x7136;&#x540E;&#x53EF;&#x4EE5;&#x50CF;&#x5982;&#x4E0B;&#x7684;&#x65B9;&#x5F0F;&#x5F15;&#x5165;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="import clone from &apos;lodash/clone&apos;

import Button from &apos;antd/lib/button&apos;;" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="javascript hljs"><code class="javascript"><span class="hljs-keyword">import</span> clone <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;lodash/clone&apos;</span>

<span class="hljs-keyword">import</span> Button <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;antd/lib/button&apos;</span>;</code></pre><p>&#x4F46;&#x662F;&#x8FD9;&#x6837;&#x5462;&#x4E5F;&#x6BD4;&#x8F83;&#x9EBB;&#x70E6;&#xFF0C;&#x800C;&#x4E14;&#x4E0D;&#x80FD;&#x540C;&#x65F6;&#x5F15;&#x5165;&#x591A;&#x4E2A;&#x7EC4;&#x4EF6;&#x3002;&#x6240;&#x4EE5;&#x8FD9;&#x4E9B;&#x6BD4;&#x8F83;&#x6D41;&#x884C;&#x7684;&#x7EC4;&#x4EF6;&#x5E93;&#x5927;&#x54E5;&#x5982;antd&#xFF0C;element&#x4E13;&#x95E8;&#x5F00;&#x53D1;&#x4E86;babel&#x63D2;&#x4EF6;&#xFF0C;&#x4F7F;&#x5F97;&#x7528;&#x6237;&#x80FD;&#x4EE5;<code>import { Button, Message } form &apos;antd&apos;</code>&#x8FD9;&#x6837;&#x7684;&#x65B9;&#x5F0F;&#x53BB;&#x6309;&#x9700;&#x52A0;&#x8F7D;&#x3002;&#x672C;&#x8D28;&#x4E0A;&#x5C31;&#x662F;&#x901A;&#x8FC7;&#x63D2;&#x4EF6;&#x5C06;&#x4E0A;&#x4E00;&#x53E5;&#x7684;&#x4EE3;&#x7801;&#x53C8;&#x8F6C;&#x5316;&#x6210;&#x5982;&#x4E0B;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="import Button from &apos;antd/lib/button&apos;;
import Message from &apos;antd/lib/button&apos;;" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="javascript hljs"><code class="javascript"><span class="hljs-keyword">import</span> Button <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;antd/lib/button&apos;</span>;
<span class="hljs-keyword">import</span> Message <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;antd/lib/button&apos;</span>;</code></pre><p>&#x8FD9;&#x6837;&#x4F3C;&#x4E4E;&#x662F;&#x6700;&#x5B8C;&#x7F8E;&#x7684;&#x53D8;&#x76F8;tree-shaking&#x65B9;&#x6848;&#x3002;&#x552F;&#x4E00;&#x4E0D;&#x8DB3;&#x7684;&#x662F;&#xFF0C;&#x5BF9;&#x4E8E;&#x7EC4;&#x4EF6;&#x5E93;&#x5F00;&#x53D1;&#x8005;&#x6765;&#x8BF4;&#xFF0C;&#x9700;&#x8981;&#x4E13;&#x95E8;&#x5F00;&#x53D1;&#x4E00;&#x4E2A;babel&#x63D2;&#x4EF6;&#xFF1B;&#x5BF9;&#x4E8E;&#x4F7F;&#x7528;&#x8005;&#x6765;&#x8BF4;&#xFF0C;&#x9700;&#x8981;&#x5F15;&#x5165;&#x4E00;&#x4E2A;babel&#x63D2;&#x4EF6;&#xFF0C;&#x7A0D;&#x5FAE;&#x7565;&#x589E;&#x52A0;&#x4E86;&#x5F00;&#x53D1;&#x6210;&#x672C;&#x4E0E;&#x4F7F;&#x7528;&#x6210;&#x672C;&#x3002;</p><p>&#x9664;&#x6B64;&#x4E4B;&#x5916;&#xFF0C;&#x5176;&#x5B9E;&#x8FD8;&#x6709;&#x4E00;&#x4E2A;&#x6BD4;&#x8F83;&#x524D;&#x6CBF;&#x7684;&#x65B9;&#x6CD5;&#x3002;&#x662F;rollup&#x7684;&#x4E00;&#x4E2A;<a href="https://github.com/rollup/rollup/wiki/pkg.module" rel="external nofollow noopener noreferrer" target="_blank">&#x63D0;&#x6848;</a>&#xFF0C;&#x5728;package.json&#x4E2D;&#x589E;&#x52A0;&#x4E00;&#x4E2A;key&#xFF1A;module&#xFF0C;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="{
  &quot;name&quot;: &quot;my-package&quot;,
  &quot;main&quot;: &quot;dist/my-package.umd.js&quot;,
  &quot;module&quot;: &quot;dist/my-package.esm.js&quot;
}" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="json hljs"><code class="json">{
  <span class="hljs-attr">&quot;name&quot;</span>: <span class="hljs-string">&quot;my-package&quot;</span>,
  <span class="hljs-attr">&quot;main&quot;</span>: <span class="hljs-string">&quot;dist/my-package.umd.js&quot;</span>,
  <span class="hljs-attr">&quot;module&quot;</span>: <span class="hljs-string">&quot;dist/my-package.esm.js&quot;</span>
}</code></pre><p>&#x8FD9;&#x6837;&#xFF0C;&#x5F53;&#x5F00;&#x53D1;&#x8005;&#x4EE5;es6&#x6A21;&#x5757;&#x7684;&#x65B9;&#x5F0F;&#x53BB;&#x52A0;&#x8F7D;npm&#x5305;&#x65F6;&#xFF0C;&#x4F1A;&#x4EE5;<code>module</code>&#x7684;&#x503C;&#x4E3A;&#x5165;&#x53E3;&#x6587;&#x4EF6;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x80FD;&#x591F;&#x540C;&#x65F6;&#x517C;&#x5BB9;&#x591A;&#x79CD;&#x5F15;&#x5165;&#x65B9;&#x5F0F;&#xFF0C;(rollup&#x4EE5;&#x53CA;webpack2+&#x90FD;&#x5DF2;&#x652F;&#x6301;)&#x3002;&#x4F46;&#x662F;webpack&#x4E0D;&#x652F;&#x6301;&#x5BFC;&#x51FA;&#x4E3A;es6&#x6A21;&#x5757;&#xFF0C;&#x6240;&#x4EE5;webpack&#x8FD8;&#x662F;&#x8981;&#x62DC;&#x62DC;&#x3002;&#x6211;&#x4EEC;&#x5F97;&#x4E0A;rollup!</p><p>(&#x6709;&#x4EBA;&#x4F1A;&#x597D;&#x5947;&#xFF0C;&#x90A3;&#x5E72;&#x8106;&#x628A;&#x672A;&#x6253;&#x5305;&#x524D;&#x7684;&#x8D44;&#x6E90;&#x5165;&#x53E3;&#x6587;&#x4EF6;&#x66B4;&#x9732;&#x5230;<code>module</code>&#xFF0C;&#x8BA9;&#x4F7F;&#x7528;&#x8005;&#x81EA;&#x5DF1;&#x53BB;&#x7F16;&#x8BD1;&#x6253;&#x5305;&#x597D;&#x4E86;&#xFF0C;&#x90A3;&#x5B83;&#x5C31;&#x80FD;&#x7528;&#x672A;&#x7F16;&#x8BD1;&#x7248;&#x7684;npm&#x5305;&#x8FDB;&#x884C;tree-shaking&#x4E86;&#x3002;&#x8FD9;&#x6837;&#x786E;&#x5B9E;&#x4E5F;&#x4E0D;&#x662F;&#x4E0D;&#x53EF;&#x4EE5;&#x3002;&#x4F46;&#x662F;&#xFF0C;&#x5F88;&#x591A;&#x5DE5;&#x7A0B;&#x5316;&#x9879;&#x76EE;&#x7684;babel&#x7F16;&#x8BD1;&#x914D;&#x7F6E;&#xFF0C;&#x4E3A;&#x4E86;&#x63D0;&#x9AD8;&#x7F16;&#x8BD1;&#x901F;&#x5EA6;&#xFF0C;&#x5176;&#x5B9E;&#x662F;&#x4F1A;&#x5FFD;&#x7565;&#x6389;<code>node_modules</code>&#x5185;&#x7684;&#x6587;&#x4EF6;&#x7684;&#x3002;&#x6240;&#x4EE5;&#x4E3A;&#x4E86;&#x4FDD;&#x8BC1;&#x8FD9;&#x4E9B;&#x540C;&#x5B66;&#x7684;&#x4F7F;&#x7528;&#xFF0C;&#x6211;&#x4EEC;&#x8FD8;&#x662F;&#x5E94;&#x8BE5;&#x8981;&#x66B4;&#x9732;&#x51FA;&#x4E00;&#x4EFD;&#x7F16;&#x8BD1;&#x8FC7;&#x7684;ES6 Module&#x3002;)</p><h3 id="articleHeader6">&#x4F7F;&#x7528;rollup&#x6253;&#x5305;JavaScript&#x5E93;</h3><p>&#x5403;&#x4E86;&#x90A3;&#x4E48;&#x591A;&#x4E8F;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x7EC8;&#x4E8E;&#x660E;&#x767D;&#xFF0C;&#x6253;&#x5305;&#x5DE5;&#x5177;&#x5E93;&#x3001;&#x7EC4;&#x4EF6;&#x5E93;&#xFF0C;&#x8FD8;&#x662F;rollup&#x597D;&#x7528;&#xFF0C;&#x4E3A;&#x4EC0;&#x4E48;&#x5462;&#xFF1F;</p><ol><li>&#x5B83;&#x652F;&#x6301;&#x5BFC;&#x51FA;ES&#x6A21;&#x5757;&#x7684;&#x5305;&#x3002;</li><li>&#x5B83;&#x652F;&#x6301;&#x7A0B;&#x5E8F;&#x6D41;&#x5206;&#x6790;&#xFF0C;&#x80FD;&#x66F4;&#x52A0;&#x6B63;&#x786E;&#x7684;&#x5224;&#x65AD;&#x9879;&#x76EE;&#x672C;&#x8EAB;&#x7684;&#x4EE3;&#x7801;&#x662F;&#x5426;&#x6709;&#x526F;&#x4F5C;&#x7528;&#x3002;</li></ol><p>&#x6211;&#x4EEC;&#x53EA;&#x8981;&#x901A;&#x8FC7;rollup&#x6253;&#x51FA;&#x4E24;&#x4EFD;&#x6587;&#x4EF6;&#xFF0C;&#x4E00;&#x4EFD;umd&#x7248;&#xFF0C;&#x4E00;&#x4EFD;ES&#x6A21;&#x5757;&#x7248;&#xFF0C;&#x5B83;&#x4EEC;&#x7684;&#x8DEF;&#x5F84;&#x5206;&#x522B;&#x8BBE;&#x4E3A;<code>main</code>&#xFF0C;<code>module</code>&#x7684;&#x503C;&#x3002;&#x8FD9;&#x6837;&#x5C31;&#x80FD;&#x65B9;&#x4FBF;&#x4F7F;&#x7528;&#x8005;&#x8FDB;&#x884C;tree-shaking&#x3002;</p><p>&#x90A3;&#x4E48;&#x95EE;&#x9898;&#x53C8;&#x6765;&#x4E86;&#xFF0C;&#x4F7F;&#x7528;&#x8005;&#x5E76;&#x4E0D;&#x662F;&#x7528;rollup&#x6253;&#x5305;&#x81EA;&#x5DF1;&#x7684;&#x5DE5;&#x7A0B;&#x5316;&#x9879;&#x76EE;&#x7684;&#xFF0C;&#x7531;&#x4E8E;&#x751F;&#x6001;&#x4E0D;&#x8DB3;&#x4EE5;&#x53CA;&#x4EE3;&#x7801;&#x62C6;&#x5206;&#x7B49;&#x529F;&#x80FD;&#x9650;&#x5236;&#xFF0C;&#x4E00;&#x822C;&#x8FD8;&#x662F;&#x7528;webpack&#x505A;&#x5DE5;&#x7A0B;&#x5316;&#x6253;&#x5305;&#x3002;</p><h3 id="articleHeader7">&#x4F7F;&#x7528;webpack&#x6253;&#x5305;&#x5DE5;&#x7A0B;&#x5316;&#x9879;&#x76EE;</h3><p>&#x4E4B;&#x524D;&#x4E5F;&#x63D0;&#x5230;&#x4E86;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5148;&#x8FDB;&#x884C;tree-shaking&#xFF0C;&#x518D;&#x8FDB;&#x884C;&#x7F16;&#x8BD1;&#xFF0C;&#x51CF;&#x5C11;&#x7F16;&#x8BD1;&#x5E26;&#x6765;&#x7684;&#x526F;&#x4F5C;&#x7528;&#xFF0C;&#x4ECE;&#x800C;&#x589E;&#x52A0;tree-shaking&#x7684;&#x6548;&#x679C;&#x3002;&#x90A3;&#x4E48;&#x5177;&#x4F53;&#x5E94;&#x8BE5;&#x600E;&#x4E48;&#x505A;&#x5462;&#xFF1F;</p><p>&#x9996;&#x5148;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x53BB;&#x6389;babel-loader&#xFF0C;&#x7136;&#x540E;webpack&#x6253;&#x5305;&#x7ED3;&#x675F;&#x540E;&#xFF0C;&#x518D;&#x6267;&#x884C;babel&#x7F16;&#x8BD1;&#x6587;&#x4EF6;&#x3002;&#x4F46;&#x662F;&#x7531;&#x4E8E;webpack&#x9879;&#x76EE;&#x5E38;&#x6709;&#x591A;&#x5165;&#x53E3;&#x6587;&#x4EF6;&#x6216;&#x8005;&#x4EE3;&#x7801;&#x62C6;&#x5206;&#x7B49;&#x9700;&#x6C42;&#xFF0C;&#x6211;&#x4EEC;&#x53C8;&#x9700;&#x8981;&#x5199;&#x4E00;&#x4E2A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x5BF9;&#x5E94;&#x6267;&#x884C;babel&#xFF0C;&#x8FD9;&#x53C8;&#x7565;&#x663E;&#x9EBB;&#x70E6;&#x3002;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;webpack&#x7684;plugin&#xFF0C;&#x8BA9;&#x8FD9;&#x4E2A;&#x73AF;&#x8282;&#x4F9D;&#x65E7;&#x8DD1;&#x5728;webpack&#x7684;&#x6253;&#x5305;&#x6D41;&#x7A0B;&#x4E2D;&#xFF0C;&#x5C31;&#x50CF;<a href="https://github.com/webpack-contrib/uglifyjs-webpack-plugin" rel="external nofollow noopener noreferrer" target="_blank">uglifyjs-webpack-plugin</a>&#x4E00;&#x6837;&#xFF0C;&#x4E0D;&#x518D;&#x662F;&#x4EE5;loader&#x7684;&#x5F62;&#x5F0F;&#x5BF9;&#x5355;&#x4E2A;&#x8D44;&#x6E90;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#xFF0C;&#x800C;&#x662F;&#x5728;&#x6253;&#x5305;&#x6700;&#x540E;&#x7684;&#x73AF;&#x8282;&#x8FDB;&#x884C;&#x7F16;&#x8BD1;&#x3002;&#x8FD9;&#x91CC;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x5927;&#x5BB6;&#x4E86;&#x89E3;&#x4E0B;webpack&#x7684;<a href="https://doc.webpack-china.org/concepts/plugins/" rel="external nofollow noopener noreferrer" target="_blank">plugin&#x673A;&#x5236;</a>&#x3002;</p><p>&#x5173;&#x4E8E;uglifyjs-webpack-plugin&#xFF0C;&#x8FD9;&#x91CC;&#x6709;&#x4E00;&#x4E2A;&#x5C0F;&#x7EC6;&#x8282;&#xFF0C;webpack&#x9ED8;&#x8BA4;&#x4F1A;&#x5E26;&#x4E00;&#x4E2A;&#x4F4E;&#x7248;&#x672C;&#x7684;&#xFF0C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x7528;<code>webpack.optimize.UglifyJsPlugin</code>&#x522B;&#x540D;&#x53BB;&#x4F7F;&#x7528;&#x3002;&#x5177;&#x4F53;&#x53EF;&#x4EE5;&#x770B;webpack&#x7684;<a href="https://doc.webpack-china.org/plugins/uglifyjs-webpack-plugin" rel="external nofollow noopener noreferrer" target="_blank">&#x76F8;&#x5173;&#x8BF4;&#x660E;</a></p><blockquote>webpack =&lt; v3.0.0 currently contains v0.4.6 of this plugin under webpack.optimize.UglifyJsPlugin as an alias. For usage of the latest version (v1.0.0), please follow the instructions below. Aliasing v1.0.0 as webpack.optimize.UglifyJsPlugin is scheduled for webpack v4.0.0</blockquote><p>&#x800C;&#x8FD9;&#x4E2A;<strong>&#x4F4E;&#x7248;&#x672C;&#x7684;uglifyjs-webpack-plugin</strong>&#x4F7F;&#x7528;&#x7684;&#x4F9D;&#x8D56;<a href="https://github.com/mishoo/UglifyJS" rel="external nofollow noopener noreferrer" target="_blank">uglifyjs</a>&#x4E5F;&#x662F;&#x4F4E;&#x7248;&#x672C;&#x7684;&#xFF0C;&#x5B83;&#x6CA1;&#x6709;<code>uglify</code>ES6&#x4EE3;&#x7801;&#x7684;&#x80FD;&#x529B;&#xFF0C;&#x6545;&#x800C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x6709;&#x8FD9;&#x6837;&#x7684;&#x9700;&#x6C42;&#xFF0C;&#x9700;&#x8981;&#x5728;&#x5DE5;&#x7A0B;&#x4E2D;&#x91CD;&#x65B0;<code>npm install uglifyjs-webpack-plugin -D</code>&#xFF0C;&#x5B89;&#x88C5;&#x6700;&#x65B0;&#x7248;&#x672C;&#x7684;<code>uglifyjs-webpack-plugin</code>&#xFF0C;&#x91CD;&#x65B0;&#x5F15;&#x5165;&#x5B83;&#x5E76;&#x4F7F;&#x7528;&#x3002;</p><p>&#x8FD9;&#x6837;&#x4E4B;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x518D;&#x4F7F;&#x7528;webpack&#x7684;babel&#x63D2;&#x4EF6;&#x8FDB;&#x884C;&#x7F16;&#x8BD1;&#x4EE3;&#x7801;&#x3002;</p><p>&#x95EE;&#x9898;&#x53C8;&#x6765;&#x4E86;&#xFF0C;&#x8FD9;&#x6837;&#x7684;&#x9700;&#x6C42;&#x6BD4;&#x8F83;&#x5C11;&#xFF0C;&#x56E0;&#x6B64;webpack&#x548C;babel&#x5B98;&#x65B9;&#x90FD;&#x6CA1;&#x6709;&#x8FD9;&#x6837;&#x7684;&#x63D2;&#x4EF6;&#xFF0C;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x7B2C;&#x4E09;&#x65B9;&#x5F00;&#x53D1;&#x8005;&#x5F00;&#x53D1;&#x4E86;&#x4E00;&#x4E2A;&#x63D2;&#x4EF6;<a href="https://github.com/simlrh/babel-webpack-plugin" rel="external nofollow noopener noreferrer" target="_blank">babel-webpack-plugin</a>&#x3002;&#x53EF;&#x60DC;&#x7684;&#x662F;&#x8FD9;&#x4F4D;&#x4F5C;&#x8005;&#x5DF2;&#x7ECF;&#x8FD1;&#x4E00;&#x5E74;&#x6CA1;&#x6709;&#x7EF4;&#x62A4;&#x8FD9;&#x4E2A;&#x63D2;&#x4EF6;&#x4E86;&#xFF0C;&#x5E76;&#x4E14;&#x5B58;&#x5728;&#x7740;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x6B64;&#x63D2;&#x4EF6;&#x4E0D;&#x4F1A;&#x7528;&#x9879;&#x76EE;&#x6839;&#x76EE;&#x5F55;&#x4E0B;&#x7684;<code>.babelrc</code>&#x6587;&#x4EF6;&#x8FDB;&#x884C;babel&#x7F16;&#x8BD1;&#x3002;&#x6709;&#x4EBA;&#x5BF9;&#x6B64;&#x63D0;&#x4E86;<a href="https://github.com/simlrh/babel-webpack-plugin/issues/3" rel="external nofollow noopener noreferrer" target="_blank">issue</a>&#xFF0C;&#x5374;&#x4E5F;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x56DE;&#x5E94;&#x3002;</p><p>&#x90A3;&#x4E48;&#x53C8;&#x6CA1;&#x6709;&#x529E;&#x6CD5;&#xFF0C;&#x5C31;&#x6211;&#x6765;&#x5199;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x63D2;&#x4EF6;&#x5427;----<a href="https://github.com/wuomzfx/webpack-babel-plugin" rel="external nofollow noopener noreferrer" target="_blank">webpack-babel-plugin</a>&#xFF0C;&#x6709;&#x4E86;&#x5B83;&#x4E4B;&#x540E;&#x6211;&#x4EEC;&#x5C31;&#x80FD;&#x8BA9;webpack&#x5728;&#x6700;&#x540E;&#x6253;&#x5305;&#x6587;&#x4EF6;&#x4E4B;&#x524D;&#x8FDB;&#x884C;babel&#x7F16;&#x8BD1;&#x4EE3;&#x7801;&#x4E86;&#xFF0C;&#x5177;&#x4F53;&#x5982;&#x4F55;&#x5B89;&#x88C5;&#x4F7F;&#x7528;&#x53EF;&#x4EE5;&#x70B9;&#x5F00;&#x9879;&#x76EE;&#x67E5;&#x770B;&#x3002;&#x6CE8;&#x610F;&#x8FD9;&#x4E2A;&#x914D;&#x7F6E;&#x9700;&#x8981;&#x5728;<code>uglifyjs-webpack-plugin</code>&#x4E4B;&#x540E;&#xFF0C;&#x50CF;&#x8FD9;&#x6837;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="plugins: [
  new UglifyJsPlugin(),
  new BabelPlugin()
]" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="hljs haxe"><code class="javascirpt">plugins: <span class="hljs-type"></span>[
  <span class="hljs-keyword">new</span> <span class="hljs-type">UglifyJsPlugin</span>(),
  <span class="hljs-keyword">new</span> <span class="hljs-type">BabelPlugin</span>()
]</code></pre><p>&#x4F46;&#x662F;&#x8FD9;&#x6837;&#x5462;&#xFF0C;&#x6709;&#x4E00;&#x4E2A;&#x6BDB;&#x75C5;&#xFF0C;&#x7531;&#x4E8E;babel&#x5728;&#x6700;&#x540E;&#x9636;&#x6BB5;&#x53BB;&#x7F16;&#x8BD1;&#x6BD4;&#x8F83;&#x5927;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x8017;&#x65F6;&#x6BD4;&#x8F83;&#x957F;&#xFF0C;&#x6240;&#x4EE5;&#x5EFA;&#x8BAE;&#x533A;&#x5206;&#x4E0B;&#x5F00;&#x53D1;&#x6A21;&#x5F0F;&#x4E0E;&#x751F;&#x4EA7;&#x6A21;&#x5F0F;&#x3002;&#x53E6;&#x5916;&#x8FD8;&#x6709;&#x4E2A;&#x66F4;&#x5927;&#x7684;&#x95EE;&#x9898;&#xFF0C;<code>webpack</code>&#x672C;&#x8EAB;&#x91C7;&#x7528;&#x7684;&#x7F16;&#x8BD1;&#x5668;<a href="https://github.com/acornjs/acorn" rel="external nofollow noopener noreferrer" target="_blank">acorn</a>&#x4E0D;&#x652F;&#x6301;&#x5BF9;&#x8C61;&#x7684;&#x6269;&#x5C55;&#x8FD0;&#x7B97;&#x7B26;(...)&#x4EE5;&#x53CA;&#x67D0;&#x4E9B;&#x8FD8;&#x672A;&#x6B63;&#x5F0F;&#x6210;&#x4E3A;ES&#x6807;&#x51C6;&#x7684;&#x7279;&#x6027;&#xFF0C;&#x6240;&#x4EE5;&#x3002;&#x3002;&#x3002;&#x3002;&#x3002;</p><p>&#x6240;&#x4EE5;&#x5982;&#x679C;&#x7279;&#x6027;&#x7528;&#x7684;&#x975E;&#x5E38;&#x8D85;&#x524D;&#xFF0C;&#x8FD8;&#x662F;&#x9700;&#x8981;<code>babel-loader</code>&#xFF0C;&#x4F46;&#x662F;<code>babel-loader</code>&#x8981;&#x505A;&#x4E13;&#x95E8;&#x7684;&#x914D;&#x7F6E;&#xFF0C;&#x628A;&#x8FD8;&#x5728;es stage&#x9636;&#x6BB5;&#x7684;&#x4EE3;&#x7801;&#x7F16;&#x8BD1;&#x6210;ES2017&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x4EE5;&#x4FBF;&#x4E8E;<code>webpack</code>&#x672C;&#x8EAB;&#x505A;&#x5904;&#x7406;&#x3002;</p><p><strong>&#x611F;&#x8C22;&#x6398;&#x91D1;&#x70ED;&#x5FC3;&#x7F51;&#x53CB;&#x7684;&#x63D0;&#x793A;&#xFF0C;&#x8FD8;&#x6709;&#x4E00;&#x4E2A;&#x63D2;&#x4EF6;<a href="https://doc.webpack-china.org/plugins/babel-minify-webpack-plugin/" rel="external nofollow noopener noreferrer" target="_blank">BabelMinifyWebpackPlugin</a>&#xFF0C;&#x5B83;&#x6240;&#x4F9D;&#x8D56;&#x7684;<a href="https://github.com/babel/minify" rel="external nofollow noopener noreferrer" target="_blank">babel/minify</a>&#x4E5F;&#x96C6;&#x6210;&#x4E86;uglifyjs&#x3002;&#x4F7F;&#x7528;&#x6B64;&#x63D2;&#x4EF6;&#x4FBF;&#x7B49;&#x540C;&#x4E8E;&#x4E0A;&#x8FF0;&#x4F7F;&#x7528;UglifyJsPlugin + BabelPlugin&#x7684;&#x6548;&#x679C;&#xFF0C;&#x5982;&#x82E5;&#x6709;&#x6B64;&#x65B9;&#x9762;&#x9700;&#x6C42;&#xFF0C;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;&#x6B64;&#x63D2;&#x4EF6;&#x3002;</strong></p><h2 id="articleHeader8">&#x603B;&#x7ED3;</h2><p>&#x4E0A;&#x9762;&#x8BB2;&#x4E86;&#x8FD9;&#x4E48;&#x591A;&#xFF0C;&#x6211;&#x6700;&#x540E;&#x518D;&#x603B;&#x7ED3;&#x4E0B;&#xFF0C;&#x5728;&#x5F53;&#x4E0B;&#x9636;&#x6BB5;&#xFF0C;&#x5728;tree-shaking&#x4E0A;&#x80FD;&#x591F;&#x5C3D;&#x529B;&#x7684;&#x4E8B;&#x3002;</p><ol><li>&#x5C3D;&#x91CF;&#x4E0D;&#x5199;&#x5E26;&#x6709;&#x526F;&#x4F5C;&#x7528;&#x7684;&#x4EE3;&#x7801;&#x3002;&#x8BF8;&#x5982;&#x7F16;&#x5199;&#x4E86;&#x7ACB;&#x5373;&#x6267;&#x884C;&#x51FD;&#x6570;&#xFF0C;&#x5728;&#x51FD;&#x6570;&#x91CC;&#x53C8;&#x4F7F;&#x7528;&#x4E86;&#x5916;&#x90E8;&#x53D8;&#x91CF;&#x7B49;&#x3002;</li><li>&#x5982;&#x679C;&#x5BF9;ES6&#x8BED;&#x4E49;&#x7279;&#x6027;&#x8981;&#x6C42;&#x4E0D;&#x662F;&#x7279;&#x522B;&#x4E25;&#x683C;&#xFF0C;&#x53EF;&#x4EE5;&#x5F00;&#x542F;babel&#x7684;<code>loose</code>&#x6A21;&#x5F0F;&#xFF0C;&#x8FD9;&#x4E2A;&#x8981;&#x6839;&#x636E;&#x81EA;&#x8EAB;&#x9879;&#x76EE;&#x5224;&#x65AD;&#xFF0C;&#x5982;&#xFF1A;&#x662F;&#x5426;&#x771F;&#x7684;&#x8981;&#x4E0D;&#x53EF;&#x679A;&#x4E3E;class&#x7684;&#x5C5E;&#x6027;&#x3002;</li><li>&#x5982;&#x679C;&#x662F;&#x5F00;&#x53D1;JavaScript&#x5E93;&#xFF0C;&#x8BF7;&#x4F7F;&#x7528;rollup&#x3002;&#x5E76;&#x4E14;&#x63D0;&#x4F9B;ES6 module&#x7684;&#x7248;&#x672C;&#xFF0C;&#x5165;&#x53E3;&#x6587;&#x4EF6;&#x5730;&#x5740;&#x8BBE;&#x7F6E;&#x5230;package.json&#x7684;<code>module</code>&#x5B57;&#x6BB5;&#x3002;</li><li>&#x5982;&#x679C;JavaScript&#x5E93;&#x5F00;&#x53D1;&#x4E2D;&#xFF0C;&#x96BE;&#x4EE5;&#x907F;&#x514D;&#x7684;&#x4EA7;&#x751F;&#x5404;&#x79CD;&#x526F;&#x4F5C;&#x7528;&#x4EE3;&#x7801;&#xFF0C;&#x53EF;&#x4EE5;&#x5C06;&#x529F;&#x80FD;&#x51FD;&#x6570;&#x6216;&#x8005;&#x7EC4;&#x4EF6;&#xFF0C;&#x6253;&#x5305;&#x6210;&#x5355;&#x72EC;&#x7684;&#x6587;&#x4EF6;&#x6216;&#x76EE;&#x5F55;&#xFF0C;&#x4EE5;&#x4FBF;&#x4E8E;&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x76EE;&#x5F55;&#x53BB;&#x52A0;&#x8F7D;&#x3002;&#x5982;&#x6709;&#x6761;&#x4EF6;&#xFF0C;&#x4E5F;&#x53EF;&#x4E3A;&#x81EA;&#x5DF1;&#x7684;&#x5E93;&#x5F00;&#x53D1;&#x5355;&#x72EC;&#x7684;webpack-loader&#xFF0C;&#x4FBF;&#x4E8E;&#x7528;&#x6237;&#x6309;&#x9700;&#x52A0;&#x8F7D;&#x3002;</li><li>&#x5982;&#x679C;&#x662F;&#x5DE5;&#x7A0B;&#x9879;&#x76EE;&#x5F00;&#x53D1;&#xFF0C;&#x5BF9;&#x4E8E;&#x4F9D;&#x8D56;&#x7684;&#x7EC4;&#x4EF6;&#xFF0C;&#x53EA;&#x80FD;&#x770B;&#x7EC4;&#x4EF6;&#x63D0;&#x4F9B;&#x8005;&#x662F;&#x5426;&#x6709;&#x5BF9;&#x5E94;&#x4E0A;&#x8FF0;3&#x3001;4&#x70B9;&#x7684;&#x4F18;&#x5316;&#x3002;&#x5BF9;&#x4E8E;&#x81EA;&#x8EAB;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x9664;1&#x3001;2&#x4E24;&#x70B9;&#x5916;&#xFF0C;&#x5BF9;&#x4E8E;&#x9879;&#x76EE;&#x6709;&#x6781;&#x81F4;&#x8981;&#x6C42;&#x7684;&#x8BDD;&#xFF0C;&#x53EF;&#x4EE5;&#x5148;&#x8FDB;&#x884C;&#x6253;&#x5305;&#xFF0C;&#x6700;&#x7EC8;&#x518D;&#x8FDB;&#x884C;&#x7F16;&#x8BD1;&#x3002;</li><li>&#x5982;&#x679C;&#x5BF9;&#x9879;&#x76EE;&#x975E;&#x5E38;&#x6709;&#x628A;&#x63E1;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;uglify&#x7684;&#x4E00;&#x4E9B;<a href="https://github.com/mishoo/UglifyJS2/#compress-options" rel="external nofollow noopener noreferrer" target="_blank">&#x7F16;&#x8BD1;&#x914D;&#x7F6E;</a>&#xFF0C;&#x5982;&#xFF1A;<code>pure_getters: true</code>&#xFF0C;&#x5220;&#x9664;&#x4E00;&#x4E9B;&#x5F3A;&#x5236;&#x8BA4;&#x4E3A;&#x4E0D;&#x4F1A;&#x4EA7;&#x751F;&#x526F;&#x4F5C;&#x7528;&#x7684;&#x4EE3;&#x7801;&#x3002;</li></ol><p>&#x6545;&#x800C;&#xFF0C;&#x5728;&#x5F53;&#x4E0B;&#x9636;&#x6BB5;&#xFF0C;&#x4F9D;&#x65E7;&#x6CA1;&#x6709;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#x597D;&#x7528;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x4FBF;&#x4E8E;&#x6211;&#x4EEC;&#x5B8C;&#x6574;&#x7684;&#x8FDB;&#x884C;tree-shaking&#x3002;&#x6240;&#x4EE5;&#x8BF4;&#xFF0C;&#x60F3;&#x505A;&#x597D;&#x4E00;&#x4EF6;&#x4E8B;&#x771F;&#x96BE;&#x554A;&#x3002;&#x4E0D;&#x4EC5;&#x9700;&#x8981;&#x9760;&#x4E2A;&#x4EBA;&#x7684;&#x52AA;&#x529B;&#xFF0C;&#x8FD8;&#x9700;&#x8981;&#x8003;&#x8651;&#x5230;&#x5386;&#x53F2;&#x7684;&#x8FDB;&#x7A0B;&#x3002;</p><blockquote>PS: &#x6B64;&#x6587;&#x4E2D;&#x6D89;&#x53CA;&#x5230;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x6211;&#x4E5F;&#x4F20;&#x5230;&#x4E86;github&#xFF0C;&#x53EF;&#x4EE5;&#x70B9;&#x51FB;&#x9605;&#x8BFB;&#x539F;&#x6587;&#x4E0B;&#x8F7D;&#x67E5;&#x770B;&#x3002;</blockquote><p>--<a href="https://github.com/wuomzfx/tree-shaking-test" rel="external nofollow noopener noreferrer" target="_blank">&#x9605;&#x8BFB;&#x539F;&#x6587;</a></p><p>@<a href="https://juejin.im/user/59f931526fb9a045023af2a4" rel="external nofollow noopener noreferrer" target="_blank">&#x4E01;&#x9999;&#x56ED;F2E</a> @<a href="https://www.zhihu.com/people/xiang-xue-zhang" rel="external nofollow noopener noreferrer" target="_blank">&#x76F8;&#x5B66;&#x957F;</a></p><p>--&#x8F6C;&#x8F7D;&#x8BF7;&#x5148;&#x7ECF;&#x8FC7;&#x672C;&#x4EBA;&#x6388;&#x6743;&#x3002;</p>

<h1 id="版权声明"><a href="#版权声明" class="headerlink" title="版权声明"></a>版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，<br>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。<br>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p>
<h2 id="原文标题"><a href="#原文标题" class="headerlink" title="原文标题"></a>原文标题</h2><p>你的Tree-Shaking并没什么卵用</p>
<h2 id="原文链接"><a href="#原文链接" class="headerlink" title="原文链接"></a>原文链接</h2><p><a href="https://segmentfault.com/a/1190000012794598" rel="external nofollow noopener noreferrer" target="_blank">https://segmentfault.com/a/1190000012794598</a></p>
<p></p><h2> 本文链接：</h2> <a href="https://alili.tech/archive/d2be37e0/">https://alili.tech/archive/d2be37e0/</a> <p></p>
  </div>
</article>


<!-- 
    <div class="blog-post-comments">
        <div id="disqus_thread">
            <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        </div>
    </div>
 -->

<div id="ad-box">
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <!-- Alili Color -->
    <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1769617155450062" data-ad-slot="6920805491" data-ad-format="link" data-full-width-responsive="true"></ins>
    <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>

<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="//unpkg.com/valine/dist/Valine.min.js"></script>
<div class="blog-post-comments"></div>
<script>
    new Valine({
        el: '.blog-post-comments', // 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', // 这里填写上面得到的APP ID
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', // 这里填写上面得到的APP KEY
        placeholder: '说点什么?', // [v1.0.7 new]留言框占位提示文字
        avatar:'retro',
        notify:true,
        verify:true
    });
</script>
    </div>
    
      <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/archives/">Archives</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="http://github.com/Fantasy9527" rel="external nofollow noopener noreferrer" target="_blank">Github</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#articleHeader0"><span class="toc-number">1.</span> <span class="toc-text">Tree-Shaking的原理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#articleHeader1"><span class="toc-number">2.</span> <span class="toc-text">副作用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#articleHeader2"><span class="toc-number">3.</span> <span class="toc-text">成也Babel，败也Babel</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#articleHeader3"><span class="toc-number">4.</span> <span class="toc-text">不够屌的UglifyJS</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#articleHeader4"><span class="toc-number">5.</span> <span class="toc-text">那到底该怎么办？</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#articleHeader5"><span class="toc-number">5.1.</span> <span class="toc-text">如果是使用webpack打包JavaScript库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#articleHeader6"><span class="toc-number">5.2.</span> <span class="toc-text">使用rollup打包JavaScript库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#articleHeader7"><span class="toc-number">5.3.</span> <span class="toc-text">使用webpack打包工程化项目</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#articleHeader8"><span class="toc-number">6.</span> <span class="toc-text">总结</span></a></li></ol><li class="toc-item toc-level-1"><a class="toc-link" href="#版权声明"><span class="toc-number"></span> <span class="toc-text">版权声明</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#原文标题"><span class="toc-number">1.</span> <span class="toc-text">原文标题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#原文链接"><span class="toc-number">2.</span> <span class="toc-text">原文链接</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#undefined"><span class="toc-number">3.</span> <span class="toc-text"> 本文链接：</span></a></li></ol>
    </li></div>


    <div id="actions-footer" style="display:none">
      <ul>
        <li id="toc"><a class="icon" href="#" onclick="$(&quot;#toc-footer&quot;).toggle();return false"><i class="fa fa-list fa-lg" aria-hidden="true"></i> 目录</a></li>
        <li id="top" style="display:none"><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast')"><i class="fa fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a></li>
        <li id="menu"><a class="icon" href="#" onclick="$(&quot;#nav-footer&quot;).toggle();return false"><i class="fa fa-bars fa-lg" aria-hidden="true"></i> 导航</a></li>
      </ul>
    </div>

  </div>
</div>
    
    <footer id="footer">
  <div class="footer-left">
    Hosted by <a href="https://pages.coding.me" style="font-weight: bold" rel="external nofollow noopener noreferrer" target="_blank">Coding Pages</a>
 </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/archives/">Archives</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a target="_blank" href="http://github.com/Fantasy9527" rel="external nofollow noopener noreferrer">Github</a></li>
        
      </ul>
    </nav>
  </div>
 

 <p>Copyright &copy; 2018 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号 </a></p>
 
</footer>
    <script src="/lib/justified-gallery/jquery.justifiedGallery.min.js"></script>
<script src="/js/main.js"></script>
<!-- Disqus Comments -->

    <!-- <script type="text/javascript">
        var disqus_shortname = 'alili-tech';

        (function(){
            var dsq = document.createElement('script');
            dsq.type = 'text/javascript';
            dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            if(window.location.host=="localhost:4000")return;
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        }());
    </script> -->

    <script>
    (function(){
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
        }
        else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
    </script>
    <script>(function(){
        var src = (document.location.protocol == "http:") ? "http://js.passport.qihucdn.com/11.0.1.js?05520debdbedd780ba345d83b7d5e6f4":"https://jspassport.ssl.qhimg.com/11.0.1.js?05520debdbedd780ba345d83b7d5e6f4";
        document.write('<script src="' + src + '" id="sozz"><\/script>');
        })();
        </script>

<!-- <script async src="/js/jquery.min.js"></script> -->
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<script src="https://c.mipcdn.com/static/v1/mip.js"></script>
<script>if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('/sw.js?t=1541675544319')
    .then(function () {console.log('ServiceWorker Register Successfully.')})
    .catch(function (e) {console.error(e)});
}
</script></body>
</html>